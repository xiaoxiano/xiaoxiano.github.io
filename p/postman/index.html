<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="原文地址 API 是什么？ API的英文即 Application Programming Interface 首字母的缩写。不要被这么长的单词吓到，直译过来的意思就是：程序之间的接口。我更倾向于把API理解为，程"><title>postman使用（转）</title><link rel=canonical href=https://www.jiangdaoli.cf/p/postman/><link rel=stylesheet href=/scss/style.min.6e1e3a209614bd0c651ca92d47b89f095974ab0634aea7a2962740b65a1e7af0.css><meta property="og:title" content="postman使用（转）"><meta property="og:description" content="原文地址 API 是什么？ API的英文即 Application Programming Interface 首字母的缩写。不要被这么长的单词吓到，直译过来的意思就是：程序之间的接口。我更倾向于把API理解为，程"><meta property="og:url" content="https://www.jiangdaoli.cf/p/postman/"><meta property="og:site_name" content="xiaoxian"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2022-08-04T00:00:00+00:00"><meta property="article:modified_time" content="2022-08-04T00:00:00+00:00"><meta name=twitter:title content="postman使用（转）"><meta name=twitter:description content="原文地址 API 是什么？ API的英文即 Application Programming Interface 首字母的缩写。不要被这么长的单词吓到，直译过来的意思就是：程序之间的接口。我更倾向于把API理解为，程"><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#00aba9"><meta name=msapplication-TileImage content="/mstile-144x144.png"><meta name=theme-color content="#ffffff"><meta name=apple-mobile-web-app-title content="rmdhnreza.my.id - Blog Tutorial For Linux & Windows"><meta name=application-name content="rmdhnreza.my.id - Blog Tutorial For Linux & Windows"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","name":"postman使用（转）","headline":"postman使用（转）","description":"原文地址 API 是什么？ API的英文即 Application Programming Interface 首字母的缩写。不要被这么长的单词吓到，直译过来的意思就是：程序之间的接口。我更倾向于把API理解为，程","inLanguage":"id-ID","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.jiangdaoli.cf\/p\/postman\/"},"author":{"@type":"Person","name":"rmdhnreza","url":"https://github.com/rmdhnreza"},"creator":{"@type":"Person","name":"rmdhnreza"},"accountablePerson":{"@type":"Person","name":"rmdhnreza"},"copyrightHolder":"xiaoxian","copyrightYear":"2022","datePublished":"2022-08-04T00:00:00+00:00","dateModified":"2022-08-04T00:00:00+00:00","publisher":{"@type":"Organization","name":"xiaoxian","url":"https://www.jiangdaoli.cf","logo":{"@type":"ImageObject","url":"https:\/\/www.jiangdaoli.cf/favicon-96x96.png","width":"112","height":"112"}},"image":"https://www.jiangdaoli.cf","url":"https:\/\/www.jiangdaoli.cf\/p\/postman\/","wordCount":"6880","tag":[],"keywords":[],"articleSection":["computer"]}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu45d9d6b92b0e2c7b760024d72fbde663_30609_300x0_resize_box_3.png width=300 height=263 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>xiaoxian</a></h1><h2 class=site-description>个人杂记</h2></div></header><ul class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home-2" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:2.5px"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><rect x="10" y="12" width="4" height="4"/></svg>首页</a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:2.5px"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>搜索</a></li><li><a href=/archives/><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill:currentColor"><title>GitBook icon</title><path d="M10.802 17.77a.703.703.0 11-.002 1.406.703.703.0 01.002-1.406m11.024-4.347a.703.703.0 11.001-1.406.703.703.0 01-.001 1.406m0-2.876a2.176 2.176.0 00-2.174 2.174c0 .233.039.465.115.691l-7.181 3.823a2.165 2.165.0 00-1.784-.937c-.829.0-1.584.475-1.95 1.216l-6.451-3.402c-.682-.358-1.192-1.48-1.138-2.502.028-.533.212-.947.493-1.107.178-.1.392-.092.62.027l.042.023c1.71.9 7.304 3.847 7.54 3.956.363.169.565.237 1.185-.057l11.564-6.014c.17-.064.368-.227.368-.474.0-.342-.354-.477-.355-.477-.658-.315-1.669-.788-2.655-1.25-2.108-.987-4.497-2.105-5.546-2.655-.906-.474-1.635-.074-1.765.006l-.252.125C7.78 6.048 1.46 9.178 1.1 9.397.457 9.789.058 10.57.006 11.539c-.08 1.537.703 3.14 1.824 3.727l6.822 3.518a2.175 2.175.0 002.15 1.862 2.177 2.177.0 002.173-2.14l7.514-4.073c.38.298.853.461 1.337.461A2.176 2.176.0 0024 12.72a2.176 2.176.0 00-2.174-2.174"/></svg>档案</a></li><li><a href=/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" fill="currentcolor" width="24" height="24" xmlns:v="https://vecta.io/nano"><path d="M12 5.9a2.1 2.1.0 110 4.2 2.1 2.1.0 110-4.2m0 9c2.97.0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4a4 4 0 100 8 4 4 0 100-8zm0 9c-2.67.0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"/></svg>关于</a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li><li class=menu-bottom-section></li></ul></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/computer/>计算机</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/postman/>postman使用（转）</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>2022-08-04</time></div></footer></div></header><section class=article-content><p><a class=link href=https://kalacloud.com/blog/postman-tutorial target=_blank rel=noopener>原文地址</a></p><h1 id=api-是什么>API 是什么？</h1><p>API的英文即 <code>A</code>pplication <code>P</code>rogramming <code>I</code>nterface 首字母的缩写。不要被这么长的单词吓到，直译过来的意思就是：程序之间的接口。我更倾向于把API理解为，程序之间的合约。有关 API 是什么及它的意义这里就不展开讲了。</p><h1 id=postman-是什么>Postman 是什么？</h1><p>Postman 是一款 API 开发协作工具，它可以帮助你测试和开发 API，Postman 提供了测试 API 的友好界面和功能，使用简单便捷，安全可靠。Postman 是 API 接口测试工具的 Top 3，因为它简单可靠又免费，目前有超过 800 万开发者用户使用。特别是 API 批量测试功能，在近几次的大版本更新中，用户体验得到了极大的提升。Postman 是每一位前后端开发者必掌握的开发工具。</p><h1 id=如何安装-postman>如何安装 Postman</h1><p>如何安装 Postman</p><p><img src=/p/postman/1.jpg width=780 height=477 srcset="/p/postman/1_hu1ed0e96d62f824200f97b34baa52ccd9_31556_480x0_resize_q75_box.jpg 480w, /p/postman/1_hu1ed0e96d62f824200f97b34baa52ccd9_31556_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=163 data-flex-basis=392px></p><p>前往 Postman 官网免费下载，安装非常傻瓜，这里就不展开写了，如果安装过程有任何问题，欢迎评论区提问。</p><p>Postman 支持 Windows、Mac 和 Linux，也可以直接跑在浏览器里，跨平台，使用相当便捷。</p><h1 id=api-模拟工具-gorest>API 模拟工具 GoRest</h1><p>本教程使用模拟 API 工具 GoRest 进行模拟 API 测试。GoRest 有非常多的使用场景，比如，后端接口还没有准备好时，我们可以先用 GoRest 模拟测试，又或者你自己暂时不想搞服务器，也不想搭后端，也可以先用 GoRest 来测。</p><p>GoRest 可以理解为后端工程师帮你搭好了后端服务器，而且是完全测过的，几乎不可能有 Bug。GoRest 除了其中的数据是模拟的，所有 API 响应都是完全真实的，你可以通过 API 调用的返回数据判断你的前端是否有问题。</p><p><img src=/p/postman/2.jpg width=780 height=221 srcset="/p/postman/2_hube20950ec9e25d58b88e660b40557cb1_15577_480x0_resize_q75_box.jpg 480w, /p/postman/2_hube20950ec9e25d58b88e660b40557cb1_15577_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=352 data-flex-basis=847px></p><p>GoRest 的 API 调用 URL 及规则。</p><p>通常 API 由 BaseURL + Endpoint 构成。比如上图中第一个 Resources：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users
</span></span></code></pre></div><p>这个 API 是由 <a class=link href=https://gorest.co.in target=_blank rel=noopener>https://gorest.co.in</a> + /public/v1/users 即 BaseURL +Endpoint 组成的。一般我们可以从 API 地址看出调取信息的大意，这段 URL 是调用 GoRest 上有关 users 的信息。</p><p>下一节，我们使用 GET 请求调用这个 API ，看看返回结果是不是与 users 信息有关。</p><h1 id=用-postman-发出第一个-get-请求>用 Postman 发出第一个 GET 请求</h1><ol><li>GET 请求基本操作</li></ol><p>GET 请求是 API 中使用最频繁的请求之一，GET 请求仅从数据库中请求读取数据，不会修改服务器中的数据。</p><p>接下来，我们来创建一个基本的 GET 请求</p><p><img src=/p/postman/3.jpg width=780 height=276 srcset="/p/postman/3_huea8564f558db9e40cdb712e1531d4db4_15474_480x0_resize_q75_box.jpg 480w, /p/postman/3_huea8564f558db9e40cdb712e1531d4db4_15474_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=282 data-flex-basis=678px></p><p>（1）点击主界面「+」号，新建一个请求页</p><p>（2）选择 GET 请求命令</p><p>（3）输入 API 地址：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users
</span></span></code></pre></div><p>在 GoRest API 设计中 GET 请求无需鉴权（下一节 POST 请求会讲解 API 鉴权问题），所有我们直接点击「Send」即可远程调取服务器信息。</p><p><img src=/p/postman/4.jpg width=780 height=588 srcset="/p/postman/4_hu653be2600f7148457265c8c206b5164d_28448_480x0_resize_q75_box.jpg 480w, /p/postman/4_hu653be2600f7148457265c8c206b5164d_28448_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=132 data-flex-basis=318px></p><p>点击「Send」，我们可以看到下方的 Body 显示了 GET API 返回值，第一段落是 users 信息概览，下面是一组组 user 信息。</p><p>如果我们只想看调取其中一位用户的信息应该怎么办呢？我们可以在 API URL 中带上参数。</p><ol start=2><li>带参数的 GET 请求</li></ol><p><img src=/p/postman/5.jpg width=780 height=266 srcset="/p/postman/5_hu61bc7237f03831ddaeca34567e20c96d_16924_480x0_resize_q75_box.jpg 480w, /p/postman/5_hu61bc7237f03831ddaeca34567e20c96d_16924_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=293 data-flex-basis=703px></p><p>如果我们想查询 ID 为 2043 的用户信息，我们只需要在请求页面中的 Params(参数) 标签页的 KEY - VALUE 内填写对应的参数即可，之后 Postman 会自动在 API URL 中生成你填写的参数，使 URL 带上参数 GET 请求。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users?id=2043
</span></span></code></pre></div><p>设置完成后，点击「Send」</p><p><img src=/p/postman/6.jpg width=780 height=588 srcset="/p/postman/6_hua01f77d100f45c448c354a8248c0cdc6_27052_480x0_resize_q75_box.jpg 480w, /p/postman/6_hua01f77d100f45c448c354a8248c0cdc6_27052_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=132 data-flex-basis=318px></p><p>我们可以看到，返回值中仅包含我们请求的 user id 为 2043 的用户信息。</p><ol start=3><li>GET 请求中的多条件查询</li></ol><p>有时，我们需要使用 API 进行多条件查询操作，比如想找 <code>name</code> 值为 <code>kalacloud.com</code> ，同时 <code>gender</code> 值为 <code>male</code> 的用户。（特别提示：此格式是通用写法，但最终要看 API 的开发者如何约定调用方式）</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>BaseURL + ResourceName + ? + key1 = value1 + &amp; + key 2 = value 2 ……
</span></span></code></pre></div><p>主 URL 之后使用 <code>?</code> 连接参数，参数与参数之间使用 <code>&</code> 连接符连接。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public-api/users/?name=kalacloud.com&amp;gender=male
</span></span></code></pre></div><p><img src=/p/postman/7.jpg width=780 height=279 srcset="/p/postman/7_hu069cf5c74c5591848496c4d99804f130_19196_480x0_resize_q75_box.jpg 480w, /p/postman/7_hu069cf5c74c5591848496c4d99804f130_19196_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=279 data-flex-basis=670px></p><p>当然，我们可以直接在 Postman 的 Params 中直接填写 KEY - VALUE</p><p><img src=/p/postman/8.jpg width=780 height=230 srcset="/p/postman/8_hu75397afa6c0d3767ce56a8662b2c88df_11487_480x0_resize_q75_box.jpg 480w, /p/postman/8_hu75397afa6c0d3767ce56a8662b2c88df_11487_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=339 data-flex-basis=813px></p><p>让 Postman 帮我们生成，然后点击「Send」</p><p><img src=/p/postman/9.jpg width=780 height=797 srcset="/p/postman/9_huadee4e48b5745e802653f0461771db4b_34515_480x0_resize_q75_box.jpg 480w, /p/postman/9_huadee4e48b5745e802653f0461771db4b_34515_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=97 data-flex-basis=234px></p><p>可以看到 API GET 调取了我们设定的两个 VALUE 值的 data 信息。</p><p>特别提示，你可以点击右上角的「Bulk Edit」进行参数的批量编辑</p><p><img src=/p/postman/10.jpg width=780 height=366 srcset="/p/postman/10_hub64c0fcc57537599cc9a711fa7c58fa5_18468_480x0_resize_q75_box.jpg 480w, /p/postman/10_hub64c0fcc57537599cc9a711fa7c58fa5_18468_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=213 data-flex-basis=511px></p><h1 id=在-postman-中发送-post-请求>在 Postman 中发送 POST 请求</h1><p>这一节我们讲 POST 请求，POST 请求和 GET 请求最大的区别是 GET 请求仅使用只读形式读取数据，而 POST 请求会修改服务器中的数据，比如创建新用户，创建用户信息，上传图片等操作都是用 POST 完成的。</p><ol><li>POST 请求前，使用 Postman 对 API 鉴权</li></ol><p>POST 不再仅仅是读取数据，会涉及到对数据的写入，这种敏感的操作，一定会涉及到账号鉴权操作。</p><p>GoRest 模拟 API 工具使用 HTTP Basic Authentication 鉴权方式</p><p><img src=/p/postman/11.jpg width=780 height=214 srcset="/p/postman/11_hufeed9050b917293dc4e0b97d96b0575d_14513_480x0_resize_q75_box.jpg 480w, /p/postman/11_hufeed9050b917293dc4e0b97d96b0575d_14513_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=364 data-flex-basis=874px></p><p>这种鉴权方式可以直接放在 Headers 中以 Key - Value 的形式进行验证，本教程演示稍微复杂点的 OAuth2 鉴权方式，好让大家学到更多。</p><p>首先在 GoRest 注册账号，然后点击顶部的「Rest Console」进入控制页，我们可以在这个页面获得自己的 Auth Token，这段就是 API 用于鉴权的密钥。</p><p><img src=/p/postman/12.jpg width=780 height=303 srcset="/p/postman/12_huabe1267e4cbc92ea4023efa2d5cbb23a_19916_480x0_resize_q75_box.jpg 480w, /p/postman/12_huabe1267e4cbc92ea4023efa2d5cbb23a_19916_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=257 data-flex-basis=617px></p><p>在 Postman 请求页的 Auth 标签中，选择鉴权类型（Type）为 OAuth 2.0，然后在 Access Token 中填写网页上的这段 Value 后，在请求类型中选择 POST，输入 API 请求地址</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users
</span></span></code></pre></div><p>然后点击「Send」</p><p><img src=/p/postman/13.jpg width=780 height=828 srcset="/p/postman/13_hu92960735e98e499657da5feb965db5e8_35878_480x0_resize_q75_box.jpg 480w, /p/postman/13_hu92960735e98e499657da5feb965db5e8_35878_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=94 data-flex-basis=226px></p><p>如果 HTTP 响应代码返回 422，表示鉴权成功，只是没有填写数据。</p><p><code>特别提示：</code>在本案例中使用的GoRest API 是先检测 Token 是否正确，之后在检测 body 等信息。也有先检测提交信息是否正确再鉴权的 API，这取决于 API 的开发者怎么设定，那么这种情况 422 就不代表鉴权成功。所以谨慎起见，所有 4XX 开头的响应代码，你都可以理解为出现了错误。</p><p><img src=/p/postman/14.jpg width=780 height=576 srcset="/p/postman/14_hufed576de3827e7f35c7d21018167ba30_27393_480x0_resize_q75_box.jpg 480w, /p/postman/14_hufed576de3827e7f35c7d21018167ba30_27393_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=135 data-flex-basis=325px></p><p>如果返回 401 说明鉴权验证失败（Authentication failed）你的 Token 可能复制错了，请检查后再试。</p><p>鉴权成功后，下一节，我们通过 API POST 请求将第一组数据写入服务器数据库。</p><p>（2）用 Postman 发出第一个 POST 请求</p><p>上一节，我们通过 API Token 鉴权成功，下面我们在请求页设置 POST 请求信息。</p><p><img src=/p/postman/15.jpg width=780 height=351 srcset="/p/postman/15_hu0b66375a84622ce34bd20cea2c7217f8_20121_480x0_resize_q75_box.jpg 480w, /p/postman/15_hu0b66375a84622ce34bd20cea2c7217f8_20121_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=222 data-flex-basis=533px></p><p>1.请求命令选择 POST，然后在地址栏填写 API 地址：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users
</span></span></code></pre></div><p>2.在「Auth」标签页根据本文上一小节设置 API 鉴权 Access Token</p><p>3.在 Body 中选择 raw 然后选择 JSON 格式。</p><p>4.将下列 JSON 代码填入编辑框，此为本次 POST 发送给服务器的内容。</p><p>5.我们将注册一个新用户，用户信息包含在这个 JSON 文本里。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>  &#34;name&#34;: &#34;kalacloud&#34;,
</span></span><span class=line><span class=cl>  &#34;gender&#34;: &#34;Male&#34;,
</span></span><span class=line><span class=cl>  &#34;email&#34;: &#34;JiangChuan@kalacloud.com&#34;,
</span></span><span class=line><span class=cl>  &#34;status&#34;: &#34;Active&#34;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>最后，点击「Send」，发送 POST 请求。</p><p><img src=/p/postman/16.jpg width=780 height=641 srcset="/p/postman/16_hu54867dd6e426838f2b6a42a81588c80c_28435_480x0_resize_q75_box.jpg 480w, /p/postman/16_hu54867dd6e426838f2b6a42a81588c80c_28435_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=121 data-flex-basis=292px></p><p>我们可以看到 API 返回信息，已经在服务器中注册好新用户，新用户 ID 为 2151，并一起返回了我们刚刚提交的用户注册信息。</p><p>如果你也看到了类似的返回结果，那么恭喜，你的第一个 POST 请求被服务器成功接受，你通过 API 在服务器上注册了一个新用户。</p><p>扩展阅读：最好的 6 个免费天气 API 接口对比测评</p><h1 id=用-postman-发送第一个-put-更新请求>用 Postman 发送第一个 PUT 更新请求</h1><p>PUT 请求一般用于更新服务器已有资源，如果服务器中没有对应的资源，那么 PUT 会创建相应的资源（特别提醒：虽然 PUT 有创建新资源的功能，但是否能创建成功，最终取决于你调用的 API 是否支持此功能）</p><p>打开你的 Postman 我们来创建一个 PUT 请求。</p><ul><li><p>点击「+」号，新建一个请求页</p></li><li><p>请求类型选择「PUT」</p></li><li><p>根据第6节我们使用 POST 请求创建的资源 ID 为 <code>1475</code> ，又根据 GoRest API 的文档得知，修改资源的 API 地址为</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users/{{ID}}
</span></span></code></pre></div><p>，所以我们要使用 PUT 修改 ID 为 1475 资源的请求地址应该写：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users/1475
</span></span></code></pre></div><ul><li><p>选择在 <code>Body</code> 标签中填写 JSON 格式的资源修改信息。我们将 <code>1475</code> 中的邮箱由</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>JiangChuan@kalacloud.com
</span></span></code></pre></div><p>修改为 <code>Hi@kalacloud.com</code>，所以我们在 Body 中填写以下代码。</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>  &#34;name&#34;: &#34;kalacloud&#34;,
</span></span><span class=line><span class=cl>  &#34;gender&#34;: &#34;Male&#34;,
</span></span><span class=line><span class=cl>  &#34;email&#34;: &#34;Hi@kalacloud.com&#34;,
</span></span><span class=line><span class=cl>  &#34;status&#34;: &#34;Active&#34;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><ul><li>选择 Auth 标签，进行 API 鉴权，鉴权方法详见本文第6节《使用 Postman 对 API 鉴权》</li><li>点击 「Send」发送 PUT 请求</li></ul><p><img src=/p/postman/17.jpg width=780 height=588 srcset="/p/postman/17_hueefed72c682fb492266139d2e0ca7c93_28056_480x0_resize_q75_box.jpg 480w, /p/postman/17_hueefed72c682fb492266139d2e0ca7c93_28056_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=132 data-flex-basis=318px></p><ul><li>如上图所示，可以看到红4位置 响应代码返回 200 ，这说明 PUT 请求已经执行成功。</li><li>返回的 Body 信息中，email 字段已经更新为 <code>Hi@kalacloud.com</code></li></ul><h1 id=用-postman-发送第一个-patch-更新请求>用 Postman 发送第一个 PATCH 更新请求</h1><p>PATCH 请求一般用于服务器资源的部分更新，它相对于 PUT 提交的数据更少，不用提整个数据，只需要提交需要修改的字段即可。有关 PUT 和 PATCH 的更多区别，可查看本文第9节。</p><p>打开你的 Postman 我们来创建一个 PATCH 请求。</p><ul><li><p>点击「+」号，新建一个请求页</p></li><li><p>请求类型选择「PATCH」</p></li><li><p>根据第6节我们使用 POST 请求创建的资源 ID 为 <code>1475</code> ，又根据 GoRest API 的文档得知，修改资源的 API 地址为</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users/{{ID}}
</span></span></code></pre></div><p>，所以我们要使用 PATCH 修改 ID 为 1475 资源的请求地址应该写，到这里都和 PUT 请求修改资源的方法一样。</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users/1475
</span></span></code></pre></div><p>选择在 <code>Body</code> 标签中填写 JSON 格式的资源修改信息。上一节我们已经将 ID 为 <code>1475</code> 资源的邮箱改为 <code>Hi@kalacloud.com</code> ，接着我们用 PATCH 请求把这个邮箱改为</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>HelloWord@kalacloud.com
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>&#34;email&#34;:&#34;HelloWord@kalacloud.com&#34; 
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><ul><li>选择 Auth 标签，进行 API 鉴权，鉴权方法详见本文第6节《使用 Postman 对 API 鉴权》</li><li>点击 「Send」发送 PATCH 请求</li></ul><p><img src=/p/postman/18.jpg width=780 height=588 srcset="/p/postman/18_hueafacd55cb3e243dcca7f16297d3cd9e_27788_480x0_resize_q75_box.jpg 480w, /p/postman/18_hueafacd55cb3e243dcca7f16297d3cd9e_27788_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=132 data-flex-basis=318px></p><ul><li><p>如上图所示，可以看到红4位置 响应代码返回 200 ，这说明 PATCH 请求已经执行成功。</p></li><li><p>返回的 Body 信息中，email 字段已经更新为</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>HelloWord@kalacloud.com
</span></span></code></pre></div></li></ul><h1 id=put-和-patch-的区别>PUT 和 PATCH 的区别</h1><p>在 HTTP 协议中，PUT 和 PATCH 都是用于更新服务器资源的命令，但他们有着不同的格式和用途。</p><p>PUT 请求：一般用于更新服务器已有资源，如果服务器中没有对应的资源，那么 PUT 会创建相应的资源（特别提醒：虽然 PUT 有创建新资源的功能，但是否能创建最终取决于你调用的 API 是否支持此功能）</p><p>PATCH 请求：用于局部更新服务器现有资源，它不用像 PUT 更新资源中的一点点也要提交所有字段信息，PATCH 更新哪个字段就提交哪个字段的更新信息即可。</p><p><code>举例说明PUT 和 PATCH 的区别：</code></p><p><img src=/p/postman/19.jpg width=780 height=263 srcset="/p/postman/19_huda2a1c0ebe4bcfb14216027fe2f1ab79_13723_480x0_resize_q75_box.jpg 480w, /p/postman/19_huda2a1c0ebe4bcfb14216027fe2f1ab79_13723_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=296 data-flex-basis=711px></p><p>同样是更新资源中的 Email 信息，PUT 需要带上资源中的所有信息，然后在更新<code>（上图）</code></p><p>而 PATCH 则仅需要提交更新部分，即仅提交邮箱信息即可<code>（下图）</code></p><p><img src=/p/postman/20.jpg width=780 height=269 srcset="/p/postman/20_hu4966b7454a7afa23a140f0b93ed970ed_13804_480x0_resize_q75_box.jpg 480w, /p/postman/20_hu4966b7454a7afa23a140f0b93ed970ed_13804_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=289 data-flex-basis=695px></p><p>那么，如果 PUT 像 PATCH 一样仅提交资源的局部信息会发生什么呢？会 400 报错。</p><p><img src=/p/postman/21.jpg width=780 height=491 srcset="/p/postman/21_huf83142ee0bab4f71dc642b8adcfa23ad_24623_480x0_resize_q75_box.jpg 480w, /p/postman/21_huf83142ee0bab4f71dc642b8adcfa23ad_24623_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=158 data-flex-basis=381px></p><p>PUT 不论修改多少，必须把修改资源的全部字段写全，否则会 400 报错。</p><h1 id=用-postman-发送第一个-delete-删除请求>用 Postman 发送第一个 DELETE 删除请求</h1><p>我们在上文讲了获取(GET)，创建(POST)，更新(PUT / PATCH) 请求，接着我们来说说删除(DELETE) 请求。顾名思义，DELETE 请求执行可删除整个资源。我们来直接实践一次你就明白了。</p><p>打开你的 Postman ，跟随本教程一起创建一个 DELETE 请求。</p><ul><li><p>点击「+」号，新建一个请求页</p></li><li><p>请求类型选择「DELETE」</p></li><li><p>我们来把上文刚刚创建的 ID 为 <code>1475</code> 的资源彻底删掉。根据 GoRest API 的文档得知，删除资源的 API 请求地址为</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users/{{ID}}
</span></span></code></pre></div><p>，所以我们要使用 <code>PATCH</code> 删除 ID 为 1475 资源的请求地址应该写：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://gorest.co.in/public/v1/users/1475
</span></span></code></pre></div><ul><li>选择 Auth 标签，进行 API 鉴权，鉴权方法详见本文第6节《使用 Postman 对 API 鉴权》</li><li>点击 「Send」发送 DELETE 请求，删除对应的资源。</li></ul><p><img src=/p/postman/22.jpg width=780 height=393 srcset="/p/postman/22_hua865477ba4d92d0fcb103f74bff262bd_20907_480x0_resize_q75_box.jpg 480w, /p/postman/22_hua865477ba4d92d0fcb103f74bff262bd_20907_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=198 data-flex-basis=476px></p><p>如上图所示，提交 DELETE 请求后，响应代码为 204 ，返回的 body 为空，删除成功。</p><p>特别提示：在 GoRest 的文档说明中，特别说了 DELETE 删除返回值的状态。</p><p><img src=/p/postman/23.jpg width=780 height=107 srcset="/p/postman/23_hu5a444ecc2cd619d231b5e2d91f409217_12916_480x0_resize_q75_box.jpg 480w, /p/postman/23_hu5a444ecc2cd619d231b5e2d91f409217_12916_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=728 data-flex-basis=1749px></p><p>API 返回状态具体是怎么样的，还要看 API 的开发者是如何约定的，并非只有返回 200 才是成功的。</p><h1 id=postman-中的全局变量环境变量集合变量的设置>Postman 中的全局变量、环境变量、集合变量的设置</h1><ol><li>Postman 设置变量的意义</li></ol><p>Postman 里有多种变量，我们可以把某些重要的值抽象出来变成变量，方便我们做场景 / 条件切换。比如，我们可以把 baseURL 抽出来，在环境变量里设置「生产环境变量」和「测试环境变量」，之后，我们只需要切换标签即可快速将数据从一个环境切换到另一个环境中，非常方便。</p><ol start=2><li>Postman 常用的三种变量形式</li></ol><ul><li>全局变量：全局变量一旦声明，即可应用到 Postman 中所有测试的 API 中。任何请求都可以直接使用全局变量，它的作用域是全局的。</li><li>环境变量：Postman 的环境变量可以理解为一组选项，当这组环境变量选项被选中时，才会生效，特别适合「生产环境」和「测试环境」之间的切换等应用场景。</li><li>集合变量：集合变量是针对集合（Collections）生效的，一个集合下可能有 N 条 API 请求，集合变量可以一次修改集合下的所有变量数值。</li></ul><p>以上三种变量的作用域从大到小为 全局 集合 环境，当三个变量形式同时作用于一个 API 测试条时，Postman 会优先使用最小作用域变量。</p><ol start=3><li>如何在 Postman 设置全局变量与环境变量</li></ol><p><img src=/p/postman/24.jpg width=780 height=339 srcset="/p/postman/24_hu3f46bdba652759e817d03a30c2f3c0fe_20545_480x0_resize_q75_box.jpg 480w, /p/postman/24_hu3f46bdba652759e817d03a30c2f3c0fe_20545_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=230 data-flex-basis=552px></p><ul><li>新建一个请求页，点击右上角的「小眼睛」进入变量设置页。</li><li>页面上方为「环境变量」，我们点击编辑设置环境变量名为「卡拉云_API 测试环境」</li><li>VARIABLE 设置为 <code>baseURL</code>，INITIAL VALUE 设置为 <code>https://gorest.co.in</code> ，保存之后我们就可以使用 <code>{{baseURL}}</code> 变量来替代 API URL 了。</li><li>页面下方为「全局变量」，VARIABLE 设置为 <code>kalacloud_id</code>，INITIAL VALUE 设置为 <code>2312</code> (2312 为 GoRest 中的一个已存在的用户信息 ID)，保存后我们就可以使用 <code>{{kalacloud_id}}</code> 变量来替代 ID 值了。</li></ul><p>我们来一起测一下刚刚设置好的「全局变量」和「环境变量」是否生效。</p><ul><li>新建一个 GET 请求页，地址栏填入：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{baseURL}}/public/v1/users?id={{kalacloud_id}}
</span></span></code></pre></div><ul><li>点击「Send」</li></ul><p><img src=/p/postman/25.jpg width=780 height=802 srcset="/p/postman/25_hu532d10b5292918f32cc50bde7cdeca2c_37000_480x0_resize_q75_box.jpg 480w, /p/postman/25_hu532d10b5292918f32cc50bde7cdeca2c_37000_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=97 data-flex-basis=233px></p><p>返回响应代码为 200 说明请求成功，返回的 Body 信息是 ID 为 <code>2312</code> 的用户信息，说明全局和环境变量已生效。</p><ol start=4><li>如何在 Postman 设置集合变量</li></ol><p>集合变量是指应用在整个集合所有请求中的变量，集合变量优先与其他变量应用与请求，也就是说如果有集合变量，那么其他变量与集合变量相冲突的化，优先执行集合变量。</p><p>集合变量很适合临时修改整个集合中的变量，来针对集合进行测试。</p><p>打开你的 Postman，我们一起操作一遍。</p><p><img src=/p/postman/26.jpg width=780 height=275 srcset="/p/postman/26_hu79d68642b788fbbc24059bc3291e54c3_19910_480x0_resize_q75_box.jpg 480w, /p/postman/26_hu79d68642b788fbbc24059bc3291e54c3_19910_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=283 data-flex-basis=680px></p><ul><li>选中一个集合，点击集合标题右侧「&mldr;」选择编辑。</li><li>进入集合设置页，选择 Variables 设置集合变量</li><li>此时，整个集合下所有请求页，都应用了此集合变量。</li></ul><h1 id=如何使用-postman-pre-request-scripts-预请求脚本>如何使用 Postman <code>Pre-request scripts</code> 预请求脚本</h1><p>Pre-request scripts 预请求脚本是在 API 请求之前执行的脚本，我们可以临时更改请求的某些变量。一般预请求脚本有这么两种常见的应用场景。(1)设置动态请求头信息。 (2)设置动态请求参数信息。比如，当我们要请求一个与时间有关的资源时，我们可以在预请求脚本中添加 <code>timestamp</code> 字段，这是一个动态值，我们可以通过前置请求脚本来实现。</p><p><code>举例说明：</code>比如我们要在 header 中包含一个时间戳，我们可以这样操作</p><ul><li>在 Pre-request scripts 中添加获取时间戳的代码</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pm.environment.set(&#34;TimeStampHeader&#34;,new Date());
</span></span></code></pre></div><p><img src=/p/postman/27.jpg width=780 height=331 srcset="/p/postman/27_hu8d24557a50ac1abeee8fc4533f535bdb_18505_480x0_resize_q75_box.jpg 480w, /p/postman/27_hu8d24557a50ac1abeee8fc4533f535bdb_18505_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=235 data-flex-basis=565px></p><ul><li>在 header 中添加预脚本中的变量 <code>TimeStampHeader</code> 当请求时，Postman 会先执行预脚本获取时间戳，然后再将时间戳赋予到 header 中 timestamp 值中。</li></ul><p><img src=/p/postman/28.jpg width=780 height=312 srcset="/p/postman/28_huc7645f22b2c0495ea5ca0e9d9f854f5c_15945_480x0_resize_q75_box.jpg 480w, /p/postman/28_huc7645f22b2c0495ea5ca0e9d9f854f5c_15945_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=250 data-flex-basis=600px></p><ul><li>接着我们来执行这条 GET 请求，打开控制控制台，在控制台中，可以看到 Request Headers 中包含我们刚刚设置的时间戳 「timestamp」特别提示：有关控制台的讲解，在本教程第14节。</li></ul><p><img src=/p/postman/29.jpg width=780 height=583 srcset="/p/postman/29_huae5b01fcbe01a7531db07d1193bc4403_30930_480x0_resize_q75_box.jpg 480w, /p/postman/29_huae5b01fcbe01a7531db07d1193bc4403_30930_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=133 data-flex-basis=321px></p><p><code>附：常用的 Pre-request scripts ：</code></p><p><code>获取变量</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>//通用语法
</span></span><span class=line><span class=cl>postman.getGlobalVariable(&#34;key&#34;);       //获取全局变量
</span></span><span class=line><span class=cl>postman.getEnvironmentVariable(&#34;key&#34;);  //获取环境变量  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//postman native app 特有语法 
</span></span><span class=line><span class=cl>pm.globals.get(&#34;key&#34;);                //获取全局变量
</span></span><span class=line><span class=cl>pm.environment.get(&#34;key&#34;);            //获取环境变量
</span></span></code></pre></div><p><code>设置变量</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>//通用语法
</span></span><span class=line><span class=cl>postman.setGlobalVariable(&#34;key&#34;,&#34;value&#34;);       //设置全局变量
</span></span><span class=line><span class=cl>postman.setEnvironmentVariable(&#34;key&#34;,&#34;value&#34;);  //设置环境变量  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//postman native app 特有语法 
</span></span><span class=line><span class=cl>pm.globals.get(&#34;key&#34;,&#34;value&#34;);                //设置全局变量
</span></span><span class=line><span class=cl>pm.environment.get(&#34;key&#34;,&#34;value&#34;);            //设置环境变量
</span></span></code></pre></div><p><code>清除变量</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>//通用语法
</span></span><span class=line><span class=cl>postman.clearGlobalVariable(&#34;key&#34;);       //清除全局变量
</span></span><span class=line><span class=cl>postman.clearEnvironmentVariable(&#34;key&#34;);  //清除环境变量  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//postman native app 特有语法 
</span></span><span class=line><span class=cl>pm.globals.unset(&#34;key&#34;);                //清除全局变量
</span></span><span class=line><span class=cl>pm.environment.unset(&#34;key&#34;);            //清除环境变量
</span></span></code></pre></div><p><code>将数组、嵌套对象存储到全局&环境变量中</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>//将数组储存到环境变量中
</span></span><span class=line><span class=cl>var array = [1, 2, 3, 4];
</span></span><span class=line><span class=cl>postman.setEnvironmentVariable(&#34;array&#34;, JSON.stringify(array));
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//将嵌套对象储存到环境变量中
</span></span><span class=line><span class=cl>var obj = { a: [1, 2, 3, 4], b: { c: &#39;val&#39; } };
</span></span><span class=line><span class=cl>postman.setEnvironmentVariable(&#34;obj&#34;, JSON.stringify(obj));
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//从环境变量中获取数组对象
</span></span><span class=line><span class=cl>var array = JSON.parse(postman.getEnvironmentVariable(&#34;array&#34;));
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//从环境变量中获取嵌套对象/json对象
</span></span><span class=line><span class=cl>var obj = JSON.parse(postman.getEnvironmentVariable(&#34;obj&#34;));
</span></span></code></pre></div><h1 id=如何创建-postman-tests-测试脚本---postman-断言功能>如何创建 Postman Tests 测试脚本 - Postman 断言功能</h1><p>在 Postman 中 Pre-request 和 Tests 是两兄弟，一个是在调用前执行（Pre-request），一个是在调用后执行（Tests），我们可以在 Tests 中使用 JavaScript 校验代码协助我们验证结果，可以说 Tests 是 Postman 的断言功能</p><ol><li><code>Postman Tests 断言的实际应用</code></li></ol><ul><li><code>Postman 状态类断言</code></li></ul><p><img src=/p/postman/30.jpg width=780 height=425 srcset="/p/postman/30_hu6d4c59ad85bc4762a1650b211ae988f8_25225_480x0_resize_q75_box.jpg 480w, /p/postman/30_hu6d4c59ad85bc4762a1650b211ae988f8_25225_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=183 data-flex-basis=440px></p><p>1.我们首先创建一个 GET 请求，然后点击 Postman 中 Tests 标签，进入断言设置。</p><p>2.我们可以在右侧已经预设好的断言代码，我们先点击「Status code: Code is 200」，可以看到预设的代码直接写入编辑框。这段代码的意思是，如果执行调用，服务器返回响应代码为 <code>200</code> 时，判断为 <code>PASS</code> 即调用成功。</p><p>3.点击「Send」执行 GET 请求，返回的断言可以在 Test Results 中看到结果。</p><p>4.绿色的 PASS，说明服务器返回的响应代码为 200 ，调用成功。</p><ul><li><code>Postman 结果比较类断言</code></li></ul><p>我们再添加一条带有变量的 JavaScript 断言设置，比较预期结果和实际返回结果之间是否一致。</p><p><img src=/p/postman/31.jpg width=780 height=389 srcset="/p/postman/31_hubc556dbf787462ceaff1b4aa65111ce5_18017_480x0_resize_q75_box.jpg 480w, /p/postman/31_hubc556dbf787462ceaff1b4aa65111ce5_18017_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=200 data-flex-basis=481px></p><p>我们刚刚 GET 请求了 ID 2312 的用户信息，其中 <code>name</code> 的值为 <code>kalacloud</code></p><p>那么我们接下来写一个 JS 判断预期与返回结果是否一致。即预期为 <code>name</code> 的值为「kalacloud」，写断言自动判断返回结果的<code>name</code>值是否也是「kalacloud」</p><p>1.在 Tests 选项卡右侧选择「Response body:JSON value check」，我们来检测 <code>ID</code> 为 <code>2312</code> 的返回值中，<code>name</code> 的值是否为 <code>kalacloud</code></p><p>2.我们将「Your Test Name」替换为「检查 ID 为 2312 的 name 返回值为 kalacloud」让这条测试的名字直接反应出我们想测试的内容。</p><p>3.使用</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>jsonData.data[0].name
</span></span></code></pre></div><p>代替<code>jsonData.value</code> ，即检测第一个返回值中的 <code>name</code> 的 <code>value</code></p><p>4.检测返回值：在 <code>to.eql()</code> 中输入待检测值 <code>"kalacloud"</code>，即需要检测的 text。</p><p>5.代码如下，你可以复制并根据你的情况简单修改，然后在 Postman 中，跟随教程一起测试。</p><p><code>特别注意：</code>这里的 <code>ID = 2312</code> 是我这里的情况，你需要根据你的情况进行相应修改。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pm.test(&#34;Status code is 200&#34;, function () {
</span></span><span class=line><span class=cl>    pm.response.to.have.status(200);
</span></span><span class=line><span class=cl>});
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>pm.test(&#34;检查 ID 为 2312 的 name 返回值为 kalacloud&#34;, function () {
</span></span><span class=line><span class=cl>    var jsonData = pm.response.json();
</span></span><span class=line><span class=cl>    pm.expect(jsonData.data[0].name).to.eql(&#34;kalacloud&#34;);
</span></span><span class=line><span class=cl>});
</span></span></code></pre></div><p><img src=/p/postman/32.jpg width=780 height=436 srcset="/p/postman/32_hu47217341b9871beaf84079c07f12c825_29010_480x0_resize_q75_box.jpg 480w, /p/postman/32_hu47217341b9871beaf84079c07f12c825_29010_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=178 data-flex-basis=429px></p><h1 id=如何在-postman-中使用控制台>如何在 Postman 中使用控制台</h1><p>控制台可以非常直观的显示当前调用的一系列信息，我们可以在「菜单 → view → Show Postman Console」或者点击 Postman 左下角的「Console」图标，打开控制台。</p><p>我们可以在 Tests 测试脚本中加入 <code>console.log</code> 来显示我们需要在控制台显示的调用信息。</p><p><img src=/p/postman/33.jpg width=780 height=806 srcset="/p/postman/33_hu3eb35c9a910b1043d5774817ccd70a83_40816_480x0_resize_q75_box.jpg 480w, /p/postman/33_hu3eb35c9a910b1043d5774817ccd70a83_40816_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=96 data-flex-basis=232px></p><p>如上图，我们在 Test 脚本中加入以下代码</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>console.log(&#34;本次测试 id 值为&#34;,pm.variables.get(&#34;kalacloud_id&#34;));
</span></span></code></pre></div><p>可以显示隐藏在变量下面的具体变量值，方便我们测试时，进行相应的判断。</p><h1 id=如何使用-runner-批量执行测试批量更换变量测试>如何使用 Runner 批量执行测试，批量更换变量测试</h1><p>当我们有一组 API 且这一组之间相互关联的关系，使用手动测试效率非常低。这时，我们就要用到 Postman 的批量执行（Runner）功能，Runner 不仅可以批量执行 API 调用，还可以批量更换变量。掌握此方法，大幅度提升 API 测试效率。</p><p>打开你的 Postman ，跟随本教程一起操作一遍吧。</p><p><img src=/p/postman/34.jpg width=774 height=440 srcset="/p/postman/34_huc68b28d4dd28a1b9f68975346c2e3229_24137_480x0_resize_q75_box.jpg 480w, /p/postman/34_huc68b28d4dd28a1b9f68975346c2e3229_24137_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=175 data-flex-basis=422px></p><ul><li>本次批量 API 测试，我们先导入一个 CSV 文件，文件中包含四组等待新建的用户信息，将 CSV 文件导入 Runner 中待用。</li></ul><p><img src=/p/postman/35.jpg width=780 height=289 srcset="/p/postman/35_hu6db0e7d82d4a94829a1ccc5dcf1f991c_18048_480x0_resize_q75_box.jpg 480w, /p/postman/35_hu6db0e7d82d4a94829a1ccc5dcf1f991c_18048_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=269 data-flex-basis=647px></p><ul><li>新建 POST 调用页，在 Body 里写上创建用户所需信息，所有值使用变量替代，这些变量将从 CSV 中读取。</li></ul><p><img src=/p/postman/36.jpg width=780 height=259 srcset="/p/postman/36_hu2f772fbf6a2081459114be20dbd25c84_17021_480x0_resize_q75_box.jpg 480w, /p/postman/36_hu2f772fbf6a2081459114be20dbd25c84_17021_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=301 data-flex-basis=722px></p><ul><li>新建 GET 调用页，使用 <code>email</code> 作为查询 KEY 进行查询，如果上一步 POST 执行成功，那么 GET 就能成功查询到新建用户对应的 email，查询到表示 POST 创建成功。</li></ul><p><img src=/p/postman/37.jpg width=780 height=266 srcset="/p/postman/37_hu0865bc58493d116029bf159eebe8e135_19034_480x0_resize_q75_box.jpg 480w, /p/postman/37_hu0865bc58493d116029bf159eebe8e135_19034_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=293 data-flex-basis=703px></p><ul><li>在「卡拉云_kalacloud.com_批量测试」这个集合中设置 Tests 中设置全局断言，每当一个调用执行完毕时，进行 Tests 一次判断。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pm.test(&#34;Status code is 200&#34;, function () {
</span></span><span class=line><span class=cl>    pm.response.to.have.status(200);
</span></span><span class=line><span class=cl>});
</span></span></code></pre></div><p><img src=/p/postman/38.jpg width=780 height=376 srcset="/p/postman/38_hu3bcce46d83762d09643fbe1c6435ef67_21759_480x0_resize_q75_box.jpg 480w, /p/postman/38_hu3bcce46d83762d09643fbe1c6435ef67_21759_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=207 data-flex-basis=497px></p><ul><li>打开「卡拉云_kalacloud.com_批量测试」合集的「Run Collection」的设置页</li><li>Iterations：这是测试组，我们 CSV 文件中有 4 组测试条目</li><li>Delay：延迟，一般填 2000 毫秒，太密集的请求，容易被服务器拒绝</li><li>Data：这里选择我们刚刚的 CSV 文件：kalacloud_users.csv 导入测试数据</li><li>点击 RUN 蓝色按钮开始执行批量测试</li></ul><p><img src=/p/postman/39.jpg width=780 height=677 srcset="/p/postman/39_hu55767ebc7fa9a347e2a26860b454c923_28108_480x0_resize_q75_box.jpg 480w, /p/postman/39_hu55767ebc7fa9a347e2a26860b454c923_28108_1024x0_resize_q75_box.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=115 data-flex-basis=276px></p><p>从上图可以看到，Postman 按顺序提交了 POST 请求和 GET 请求，并连续测试了从 CSV 文件导入的 4 组数据。一键批量测试，相当高效。</p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script>
<link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],locale:{admin:"Admin",placeholder:null},requiredMeta:["name","email","url"],serverURL:"https://myblog-rho-ebon.vercel.app/"})</script><footer class=site-footer><section class=copyright>&copy;
2021 -
2022 xiaoxian</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.12.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#api-是什么>API 是什么？</a></li><li><a href=#postman-是什么>Postman 是什么？</a></li><li><a href=#如何安装-postman>如何安装 Postman</a></li><li><a href=#api-模拟工具-gorest>API 模拟工具 GoRest</a></li><li><a href=#用-postman-发出第一个-get-请求>用 Postman 发出第一个 GET 请求</a></li><li><a href=#在-postman-中发送-post-请求>在 Postman 中发送 POST 请求</a></li><li><a href=#用-postman-发送第一个-put-更新请求>用 Postman 发送第一个 PUT 更新请求</a></li><li><a href=#用-postman-发送第一个-patch-更新请求>用 Postman 发送第一个 PATCH 更新请求</a></li><li><a href=#put-和-patch-的区别>PUT 和 PATCH 的区别</a></li><li><a href=#用-postman-发送第一个-delete-删除请求>用 Postman 发送第一个 DELETE 删除请求</a></li><li><a href=#postman-中的全局变量环境变量集合变量的设置>Postman 中的全局变量、环境变量、集合变量的设置</a></li><li><a href=#如何使用-postman-pre-request-scripts-预请求脚本>如何使用 Postman <code>Pre-request scripts</code> 预请求脚本</a></li><li><a href=#如何创建-postman-tests-测试脚本---postman-断言功能>如何创建 Postman Tests 测试脚本 - Postman 断言功能</a></li><li><a href=#如何在-postman-中使用控制台>如何在 Postman 中使用控制台</a></li><li><a href=#如何使用-runner-批量执行测试批量更换变量测试>如何使用 Runner 批量执行测试，批量更换变量测试</a></li></ol></nav></div></section></aside></div><script type=text/javascript src=/ts/main.js defer></script>
<script>function adsenseDelay(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1748363845231571",e.setAttribute("crossorigin","anonymous"),t.appendChild(e)}function analyticsDelay(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://www.googletagmanager.com/gtag/js?id=UA-124746836-1",t.appendChild(e)}function gtag(){dataLayer.push(arguments)}setTimeout(adsenseDelay,1500),setTimeout(analyticsDelay,1500),window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-124746836-1")</script></body></html>