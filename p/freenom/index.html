<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="本github actions方法已于2022-07-15完全被封，请去仓库看文档 freenom自动续期 Fork luolongfei大佬的freenom库，再添加以下workflow： “点击展开完整代码”# 1、Fork 本仓库 # 2、在你 Fork 的本仓库下的 Settings &amp;gt; Secrets 画面追加以下几个 secret 变量： # FREENOM_USERNAME、FREENOM_PASSWORD、MULTIPLE_ACCOUNTS、MAIL_USERNAME、MAIL_PASSWORD、TO、MAIL_ENABLE、TELEGRAM_CHAT_ID、 # TELEGRAM_BOT_TOKEN、TELEGRAM_BOT_ENABLE、NOTICE_FREQ # （注：此处列出了所有可用变量，你只用追加你需要用到的变量，变量的具体含义请参考本项目的 .env 文件中的说明，一般情况下，.env 文件中的某些 # 项存在默认值，如果默认值满足你的需求则可不追加到 Secrets，它们会保持默认） # # 下面定时任务中的时间是世界时间，每天 10:00（本示例已改为2:00） 执行，由于创建虚拟环境会消耗时间，故任务会延迟 30 秒左右执行 # # @Author of yml configuration file: RouRouX &amp;lt;https://github.com/RouRouX&amp;gt; &amp;amp; mybsdc &amp;lt;mybsdc@gmail.com&amp;gt; # ###### end 说明 ###### name: Run it on action on: push: branches: - main schedule: - cron: 00 02 * * * workflow_dispatch: jobs: run-it: runs-on: ubuntu-18."><title>freenom自动续期（存档）</title><link rel=canonical href=https://www.jiangdaoli.cf/p/freenom/><link rel=stylesheet href=/scss/style.min.b8565abaee4d6f2d8f525d6d35a3a044a6523c8eec90cadfae5f8fea39213f8a.css><meta property="og:title" content="freenom自动续期（存档）"><meta property="og:description" content="本github actions方法已于2022-07-15完全被封，请去仓库看文档 freenom自动续期 Fork luolongfei大佬的freenom库，再添加以下workflow： “点击展开完整代码”# 1、Fork 本仓库 # 2、在你 Fork 的本仓库下的 Settings &amp;gt; Secrets 画面追加以下几个 secret 变量： # FREENOM_USERNAME、FREENOM_PASSWORD、MULTIPLE_ACCOUNTS、MAIL_USERNAME、MAIL_PASSWORD、TO、MAIL_ENABLE、TELEGRAM_CHAT_ID、 # TELEGRAM_BOT_TOKEN、TELEGRAM_BOT_ENABLE、NOTICE_FREQ # （注：此处列出了所有可用变量，你只用追加你需要用到的变量，变量的具体含义请参考本项目的 .env 文件中的说明，一般情况下，.env 文件中的某些 # 项存在默认值，如果默认值满足你的需求则可不追加到 Secrets，它们会保持默认） # # 下面定时任务中的时间是世界时间，每天 10:00（本示例已改为2:00） 执行，由于创建虚拟环境会消耗时间，故任务会延迟 30 秒左右执行 # # @Author of yml configuration file: RouRouX &amp;lt;https://github.com/RouRouX&amp;gt; &amp;amp; mybsdc &amp;lt;mybsdc@gmail.com&amp;gt; # ###### end 说明 ###### name: Run it on action on: push: branches: - main schedule: - cron: 00 02 * * * workflow_dispatch: jobs: run-it: runs-on: ubuntu-18."><meta property="og:url" content="https://www.jiangdaoli.cf/p/freenom/"><meta property="og:site_name" content="xiaoxian"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2021-11-19T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-25T00:00:00+00:00"><meta name=twitter:title content="freenom自动续期（存档）"><meta name=twitter:description content="本github actions方法已于2022-07-15完全被封，请去仓库看文档 freenom自动续期 Fork luolongfei大佬的freenom库，再添加以下workflow： “点击展开完整代码”# 1、Fork 本仓库 # 2、在你 Fork 的本仓库下的 Settings &amp;gt; Secrets 画面追加以下几个 secret 变量： # FREENOM_USERNAME、FREENOM_PASSWORD、MULTIPLE_ACCOUNTS、MAIL_USERNAME、MAIL_PASSWORD、TO、MAIL_ENABLE、TELEGRAM_CHAT_ID、 # TELEGRAM_BOT_TOKEN、TELEGRAM_BOT_ENABLE、NOTICE_FREQ # （注：此处列出了所有可用变量，你只用追加你需要用到的变量，变量的具体含义请参考本项目的 .env 文件中的说明，一般情况下，.env 文件中的某些 # 项存在默认值，如果默认值满足你的需求则可不追加到 Secrets，它们会保持默认） # # 下面定时任务中的时间是世界时间，每天 10:00（本示例已改为2:00） 执行，由于创建虚拟环境会消耗时间，故任务会延迟 30 秒左右执行 # # @Author of yml configuration file: RouRouX &amp;lt;https://github.com/RouRouX&amp;gt; &amp;amp; mybsdc &amp;lt;mybsdc@gmail.com&amp;gt; # ###### end 说明 ###### name: Run it on action on: push: branches: - main schedule: - cron: 00 02 * * * workflow_dispatch: jobs: run-it: runs-on: ubuntu-18."><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#00aba9"><meta name=msapplication-TileImage content="/mstile-144x144.png"><meta name=theme-color content="#ffffff"><meta name=apple-mobile-web-app-title content="rmdhnreza.my.id - Blog Tutorial For Linux & Windows"><meta name=application-name content="rmdhnreza.my.id - Blog Tutorial For Linux & Windows"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","name":"freenom自动续期（存档）","headline":"freenom自动续期（存档）","description":"本github actions方法已于2022-07-15完全被封，请去仓库看文档 freenom自动续期 Fork luolongfei大佬的freenom库，再添加以下workflow： “点击展开完整代码”\r# 1、Fork 本仓库 # 2、在你 Fork 的本仓库下的 Settings \u0026gt; Secrets 画面追加以下几个 secret 变量： # FREENOM_USERNAME、FREENOM_PASSWORD、MULTIPLE_ACCOUNTS、MAIL_USERNAME、MAIL_PASSWORD、TO、MAIL_ENABLE、TELEGRAM_CHAT_ID、 # TELEGRAM_BOT_TOKEN、TELEGRAM_BOT_ENABLE、NOTICE_FREQ # （注：此处列出了所有可用变量，你只用追加你需要用到的变量，变量的具体含义请参考本项目的 .env 文件中的说明，一般情况下，.env 文件中的某些 # 项存在默认值，如果默认值满足你的需求则可不追加到 Secrets，它们会保持默认） # # 下面定时任务中的时间是世界时间，每天 10:00（本示例已改为2:00） 执行，由于创建虚拟环境会消耗时间，故任务会延迟 30 秒左右执行 # # @Author of yml configuration file: RouRouX \u0026lt;https:\/\/github.com\/RouRouX\u0026gt; \u0026amp; mybsdc \u0026lt;mybsdc@gmail.com\u0026gt; # ###### end 说明 ###### name: Run it on action on: push: branches: - main schedule: - cron: 00 02 * * * workflow_dispatch: jobs: run-it: runs-on: ubuntu-18.","inLanguage":"id-ID","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.jiangdaoli.cf\/p\/freenom\/"},"author":{"@type":"Person","name":"rmdhnreza","url":"https://github.com/rmdhnreza"},"creator":{"@type":"Person","name":"rmdhnreza"},"accountablePerson":{"@type":"Person","name":"rmdhnreza"},"copyrightHolder":"xiaoxian","copyrightYear":"2021","datePublished":"2021-11-19T00:00:00+00:00","dateModified":"2022-07-25T00:00:00+00:00","publisher":{"@type":"Organization","name":"xiaoxian","url":"https://www.jiangdaoli.cf","logo":{"@type":"ImageObject","url":"https:\/\/www.jiangdaoli.cf/favicon-96x96.png","width":"112","height":"112"}},"image":"https://www.jiangdaoli.cf","url":"https:\/\/www.jiangdaoli.cf\/p\/freenom\/","wordCount":"512","tag":[],"keywords":[],"articleSection":["computer"]}</script></head><body class="article-page has-toc"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hufbc6e77f18be7cb09bbf7a761d88aeb8_1357_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>xiaoxian</a></h1><h2 class=site-description>个人杂记</h2></div></header><ul class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home-2" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:2.5px"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><rect x="10" y="12" width="4" height="4"/></svg>首页</a></li><li><a href=/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" fill="currentcolor" width="24" height="24" xmlns:v="https://vecta.io/nano"><path d="M12 5.9a2.1 2.1.0 110 4.2 2.1 2.1.0 110-4.2m0 9c2.97.0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4a4 4 0 100 8 4 4 0 100-8zm0 9c-2.67.0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"/></svg>关于</a></li><li><a href=/archives/><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill:currentColor"><title>GitBook icon</title><path d="M10.802 17.77a.703.703.0 11-.002 1.406.703.703.0 01.002-1.406m11.024-4.347a.703.703.0 11.001-1.406.703.703.0 01-.001 1.406m0-2.876a2.176 2.176.0 00-2.174 2.174c0 .233.039.465.115.691l-7.181 3.823a2.165 2.165.0 00-1.784-.937c-.829.0-1.584.475-1.95 1.216l-6.451-3.402c-.682-.358-1.192-1.48-1.138-2.502.028-.533.212-.947.493-1.107.178-.1.392-.092.62.027l.042.023c1.71.9 7.304 3.847 7.54 3.956.363.169.565.237 1.185-.057l11.564-6.014c.17-.064.368-.227.368-.474.0-.342-.354-.477-.355-.477-.658-.315-1.669-.788-2.655-1.25-2.108-.987-4.497-2.105-5.546-2.655-.906-.474-1.635-.074-1.765.006l-.252.125C7.78 6.048 1.46 9.178 1.1 9.397.457 9.789.058 10.57.006 11.539c-.08 1.537.703 3.14 1.824 3.727l6.822 3.518a2.175 2.175.0 002.15 1.862 2.177 2.177.0 002.173-2.14l7.514-4.073c.38.298.853.461 1.337.461A2.176 2.176.0 0024 12.72a2.176 2.176.0 00-2.174-2.174"/></svg>档案</a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:2.5px"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>搜索</a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li><li class=menu-bottom-section></li></ul></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><ol id=menu class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/><span class=text itemprop=name>Home&nbsp;</span><meta itemprop=position content="1"></a><span class=text>/&nbsp;</span></li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/tags/computer><span class=text itemprop=name>computer</span></a>
<span class=text class=breadcrumbs-mobile>/&nbsp;</span><meta itemprop=position content="2"><meta itemprop=position content="2"><li class=breadcrumbs-mobile itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span class=text style=font-weight:700 itemprop=name>freenom自动续期（存档）</span><meta itemprop=position content="3"></li></ol><h2 class="article-title center-text"><a href=/p/freenom/>freenom自动续期（存档）</a></h2><div class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time>2021-11-19</time></div></div><aside class=top-toc><section class="widget archives"><h2 class=title-toc style="margin:20px 0 0">目录</h2><div class=mobile--widget--toc><nav id=TableOfContents><ol><li><a href=#本github-actions方法已于2022-07-15完全被封请去仓库看文档>本github actions方法已于2022-07-15完全被封，请去仓库看文档</a></li><li><a href=#freenom自动续期>freenom自动续期</a></li><li><a href=#保活>保活</a></li><li><a href=#附>附</a></li></ol></nav></div></section></aside></header><section class=article-content><h1 id=本github-actions方法已于2022-07-15完全被封请去仓库看文档>本github actions方法已于2022-07-15完全被封，请去仓库看文档</h1><h1 id=freenom自动续期>freenom自动续期</h1><ol><li><p>Fork <a class=link href=https://github.com/luolongfei/freenom target=_blank rel=noopener>luolongfei大佬的freenom库</a>，再添加以下workflow：
<details class=spoiler id=spoiler-0><summary>“点击展开完整代码”</summary><p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl># 1、Fork 本仓库
</span></span><span class=line><span class=cl># 2、在你 Fork 的本仓库下的 Settings &gt; Secrets 画面追加以下几个 secret 变量：
</span></span><span class=line><span class=cl># FREENOM_USERNAME、FREENOM_PASSWORD、MULTIPLE_ACCOUNTS、MAIL_USERNAME、MAIL_PASSWORD、TO、MAIL_ENABLE、TELEGRAM_CHAT_ID、
</span></span><span class=line><span class=cl># TELEGRAM_BOT_TOKEN、TELEGRAM_BOT_ENABLE、NOTICE_FREQ
</span></span><span class=line><span class=cl># （注：此处列出了所有可用变量，你只用追加你需要用到的变量，变量的具体含义请参考本项目的 .env 文件中的说明，一般情况下，.env 文件中的某些
</span></span><span class=line><span class=cl>#  项存在默认值，如果默认值满足你的需求则可不追加到 Secrets，它们会保持默认）
</span></span><span class=line><span class=cl>#
</span></span><span class=line><span class=cl># 下面定时任务中的时间是世界时间，每天 10:00（本示例已改为2:00） 执行，由于创建虚拟环境会消耗时间，故任务会延迟 30 秒左右执行
</span></span><span class=line><span class=cl>#
</span></span><span class=line><span class=cl># @Author of yml configuration file: RouRouX <span class=p>&lt;</span><span class=nt>https:</span><span class=err>//</span><span class=na>github</span><span class=err>.</span><span class=na>com</span><span class=err>/</span><span class=na>RouRouX</span><span class=p>&gt;</span> <span class=err>&amp;</span> mybsdc <span class=p>&lt;</span><span class=nt>mybsdc</span><span class=err>@</span><span class=na>gmail</span><span class=err>.</span><span class=na>com</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>#
</span></span><span class=line><span class=cl>######  end 说明  ######
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>name: Run it on action
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>on:
</span></span><span class=line><span class=cl>  push:
</span></span><span class=line><span class=cl>    branches:
</span></span><span class=line><span class=cl>      - main
</span></span><span class=line><span class=cl>  schedule:
</span></span><span class=line><span class=cl>    - cron: 00 02 * * *
</span></span><span class=line><span class=cl>  workflow_dispatch:
</span></span><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  run-it:
</span></span><span class=line><span class=cl>    runs-on: ubuntu-18.04
</span></span><span class=line><span class=cl>    name: Run it on action
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>      - name: Checkout master
</span></span><span class=line><span class=cl>        uses: actions/checkout@v2
</span></span><span class=line><span class=cl>      - name: Setup PHP
</span></span><span class=line><span class=cl>        uses: shivammathur/setup-php@v2
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          php-version: &#39;7.2&#39;
</span></span><span class=line><span class=cl>      - name: Setting
</span></span><span class=line><span class=cl>        run: |
</span></span><span class=line><span class=cl>          echo &#39;Renew freenom domain name automatically.&#39;
</span></span><span class=line><span class=cl>          echo &#39;@Author of yml configuration file: RouRouX <span class=p>&lt;</span><span class=nt>https:</span><span class=err>//</span><span class=na>github</span><span class=err>.</span><span class=na>com</span><span class=err>/</span><span class=na>RouRouX</span><span class=p>&gt;</span> <span class=err>&amp;</span> mybsdc <span class=p>&lt;</span><span class=nt>mybsdc</span><span class=err>@</span><span class=na>gmail</span><span class=err>.</span><span class=na>com</span><span class=p>&gt;</span>&#39;
</span></span><span class=line><span class=cl>          echo &#39;@Url: https://github.com/luolongfei/freenom&#39;
</span></span><span class=line><span class=cl>          cp .env.example .env
</span></span><span class=line><span class=cl>          if [[ (&#39;${{ secrets.FREENOM_USERNAME }}&#39; == &#39;&#39; || &#39;${{ secrets.FREENOM_PASSWORD }}&#39; == &#39;&#39;) <span class=err>&amp;&amp;</span> &#39;${{ secrets.MULTIPLE_ACCOUNTS }}&#39; == &#39;&#39; ]]; then echo &#39;你在 Github 的当前项目的 Settings &gt; Secrets 画面没有设置任何与账户信息相关的 secret 值，无法正常运行，请添加新的 secret 值，设置 FREENOM_USERNAME 与 FREENOM_PASSWORD，或者设置 MULTIPLE_ACCOUNTS，以及 .env 文件中其它必要项，各项的具体含义与格式参考本项目 .env 文件中的说明。&#39;; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.FREENOM_USERNAME }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^FREENOM_USERNAME=.*$/FREENOM_USERNAME=&#39;${{ secrets.FREENOM_USERNAME }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.FREENOM_PASSWORD }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^FREENOM_PASSWORD=.*$/FREENOM_PASSWORD=&#39;${{ secrets.FREENOM_PASSWORD }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.MULTIPLE_ACCOUNTS }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^MULTIPLE_ACCOUNTS=.*$/MULTIPLE_ACCOUNTS=&#39;${{ secrets.MULTIPLE_ACCOUNTS }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.MAIL_USERNAME }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^MAIL_USERNAME=.*$/MAIL_USERNAME=&#39;${{ secrets.MAIL_USERNAME }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.MAIL_PASSWORD }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^MAIL_PASSWORD=.*$/MAIL_PASSWORD=&#39;${{ secrets.MAIL_PASSWORD }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.TO }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^TO=.*$/TO=&#39;${{ secrets.TO }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.MAIL_ENABLE }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^MAIL_ENABLE=.*$/MAIL_ENABLE=&#39;${{ secrets.MAIL_ENABLE }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.TELEGRAM_CHAT_ID }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^TELEGRAM_CHAT_ID=.*$/TELEGRAM_CHAT_ID=&#39;${{ secrets.TELEGRAM_CHAT_ID }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.TELEGRAM_BOT_TOKEN }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^TELEGRAM_BOT_TOKEN=.*$/TELEGRAM_BOT_TOKEN=&#39;${{ secrets.TELEGRAM_BOT_TOKEN }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.TELEGRAM_BOT_ENABLE }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^TELEGRAM_BOT_ENABLE=.*$/TELEGRAM_BOT_ENABLE=&#39;${{ secrets.TELEGRAM_BOT_ENABLE }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          if [ &#39;${{ secrets.NOTICE_FREQ }}&#39; != &#39;&#39; ]; then sed -i &#34;s/^NOTICE_FREQ=.*$/NOTICE_FREQ=&#39;${{ secrets.NOTICE_FREQ }}&#39;/&#34; .env; fi
</span></span><span class=line><span class=cl>          sed -i &#34;s/^ON_GITHUB_ACTIONS=.*$/ON_GITHUB_ACTIONS=true/&#34; .env
</span></span><span class=line><span class=cl>      - name: Run
</span></span><span class=line><span class=cl>        run: |
</span></span><span class=line><span class=cl>          php run
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 以下为保活所需step
</span></span><span class=line><span class=cl>      - name: curl
</span></span><span class=line><span class=cl>        id: enable_workflow
</span></span><span class=line><span class=cl>        env:
</span></span><span class=line><span class=cl>          REST_TOKEN: ${{ secrets.REST_TOKEN }}
</span></span><span class=line><span class=cl>          API_ADDRESS: ${{ secrets.API_ADDRESS }}
</span></span><span class=line><span class=cl>        run: |
</span></span><span class=line><span class=cl>          echo &#34;Enable Workflow Start...&#34;
</span></span><span class=line><span class=cl>          curl -X PUT -H &#34;Authorization: token $REST_TOKEN&#34; &#34;$API_ADDRESS&#34;
</span></span><span class=line><span class=cl>          echo &#34;Finished&#34;          
</span></span></code></pre></div></p></details></p></li><li><p>在你 Fork 的本仓库下的 <code>Settings</code> -> <code>Secrets</code> 页面追加以下几个<code>secret</code>秘密环境变量</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>变量名</th><th style=text-align:center>含义</th><th style=text-align:center>默认值</th><th style=text-align:center>是否必须</th><th style=text-align:center>备注</th></tr></thead><tbody><tr><td style=text-align:center>FREENOM_USERNAME</td><td style=text-align:center>freenom 账户</td><td style=text-align:center>-</td><td style=text-align:center>是</td><td style=text-align:center>只支持邮箱账户，不支持也不打算支持第三方社交账户登录</td></tr><tr><td style=text-align:center>FREENOM_PASSWORD</td><td style=text-align:center>freenom 密码</td><td style=text-align:center>-</td><td style=text-align:center>是</td><td style=text-align:center>某些特殊字符可能需要转义，在<code>Github actions</code>环境，请在除字母数字以外的字符前加上“\”，否则可能无法正确读取密码，此举是防止某些字符在<code>shell</code>命令行被解析，举个例子，比如我密码是<code>fei.,:!~@#$%^&*?233-_abcd^$$</code>，那么写到秘密变量时就应写为<code>fei\.\,\:\!\~\@\#\$\%\^\&\*\?233\-\_abcd\^\$\$</code>。而在普通<code>VPS</code>环境，则只用在密码中的“#”或单双引号前加“\”，请参考<code>.env.example</code>文件内的注释，应该没人会设置那么变态的密码吧</td></tr><tr><td style=text-align:center>MULTIPLE_ACCOUNTS</td><td style=text-align:center>多账户支持</td><td style=text-align:center>-</td><td style=text-align:center>否</td><td style=text-align:center>多个账户和密码的格式必须是“<code>&lt;账户1>@&lt;密码1>|&lt;账户2>@&lt;密码2>|&lt;账户3>@&lt;密码3></code>”，如果设置了多账户，上面的<code>FREENOM_USERNAME</code>和<code>FREENOM_PASSWORD</code>可不设置</td></tr><tr><td style=text-align:center>MAIL_USERNAME</td><td style=text-align:center>机器人邮箱账户</td><td style=text-align:center>-</td><td style=text-align:center>是</td><td style=text-align:center>支持<code>Gmail</code>、<code>QQ邮箱</code>以及<code>163邮箱</code>，尽可能使用<code>163邮箱</code>或者<code>QQ邮箱</code>，而非之前推荐的<code>Gmail</code>。因为谷歌的安全机制，每次在新设备登录 <code>Gmail</code> 都会先被限制，需要手动解除限制才行，而<code>Github Actions</code>每次创建的虚拟环境都会分配一个新的设备<code>IP</code>，相当于每次都是从新设备登录<code>Gmail</code>，而我们不可能每次都去手动为<code>Gmail</code>解除登录限制，所以这种机制会导致无法发出通知邮件。具体的配置方法参考「 <a class=link href=#--%e9%85%8d%e7%bd%ae%e5%8f%91%e4%bf%a1%e9%82%ae%e7%ae%b1>配置发信邮箱</a> 」</td></tr><tr><td style=text-align:center>MAIL_PASSWORD</td><td style=text-align:center>机器人邮箱密码</td><td style=text-align:center>-</td><td style=text-align:center>是</td><td style=text-align:center><code>Gmail</code>填密码，<code>QQ邮箱</code>或<code>163邮箱</code>填授权码</td></tr><tr><td style=text-align:center>TO</td><td style=text-align:center>接收通知的邮箱</td><td style=text-align:center>-</td><td style=text-align:center>是</td><td style=text-align:center>你自己最常用的邮箱，推荐使用<code>QQ邮箱</code>，用来接收机器人邮箱发出的域名相关邮件</td></tr><tr><td style=text-align:center>MAIL_ENABLE</td><td style=text-align:center>是否启用邮件推送功能</td><td style=text-align:center>true</td><td style=text-align:center>否</td><td style=text-align:center><code>true</code>：启用<code>false</code>：不启用默认启用，如果设为<code>false</code>，不启用邮件推送功能，则上面的<code>MAIL_USERNAME</code>、<code>MAIL_PASSWORD</code>、<code>TO</code>变量变为非必须，可不设置</td></tr><tr><td style=text-align:center>TELEGRAM_CHAT_ID</td><td style=text-align:center>你的<code>chat_id</code></td><td style=text-align:center>-</td><td style=text-align:center>否</td><td style=text-align:center>通过发送<code>/start</code>给<code>@userinfobot</code>可以获取自己的<code>id</code></td></tr><tr><td style=text-align:center>TELEGRAM_BOT_TOKEN</td><td style=text-align:center>你的<code>Telegram bot</code>的<code>token</code></td><td style=text-align:center>-</td><td style=text-align:center>否</td><td></td></tr><tr><td style=text-align:center>TELEGRAM_BOT_ENABLE</td><td style=text-align:center>是否启用<code>Telegram Bot</code>推送功能</td><td style=text-align:center>false</td><td style=text-align:center>否</td><td style=text-align:center><code>true</code>：启用<code>false</code>：不启用默认不启用，如果设为<code>true</code>，则必须设置上面的<code>TELEGRAM_CHAT_ID</code>和<code>TELEGRAM_BOT_TOKEN</code>变量</td></tr><tr><td style=text-align:center>NOTICE_FREQ</td><td style=text-align:center>通知频率</td><td style=text-align:center>1</td><td style=text-align:center>否</td><td style=text-align:center><code>0</code>：仅当有续期操作的时候<code>1</code>：每次执行</td></tr><tr><td style=text-align:center>REST_TOKEN</td><td style=text-align:center>如后文所示</td><td style=text-align:center>-</td><td style=text-align:center>否</td><td style=text-align:center>保活所需</td></tr><tr><td style=text-align:center>API_ADDRESS</td><td style=text-align:center>如后文所示</td><td style=text-align:center>-</td><td style=text-align:center>否</td><td style=text-align:center>保活所需</td></tr></tbody></table></div></li></ol><p>（注：你只用关注上面表格中的必须项，非必须项可不设置，将保持默认值。更多相关变量的含义、格式以及默认值，请参考本项目的<code>.env.example</code>文件内的注释）</p><ol start=3><li>启用 Actions ，完成。</li></ol><h1 id=保活>保活</h1><ol><li><p>Fork <a class=link href=https://github.com/zhzhzhy/Workflow-Keep-Alive target=_blank rel=noopener>zhzhzhy/Workflow-Keep-Alive库</a></p></li><li><p>创建 sercets ：</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>变量名</th><th style=text-align:center>值</th><th style=text-align:center>备注</th></tr></thead><tbody><tr><td style=text-align:center>REST_TOKEN</td><td style=text-align:center>个人访问令牌（Personal access tokens）</td><td style=text-align:center>个人资料照片->设置->Developer settings</td></tr><tr><td style=text-align:center>API_ADDRESS</td><td style=text-align:center><code>https://api.github.com/repos/{owner}/{target-repo}/actions/workflows/enable_workflow/enable</code></td><td style=text-align:center>修改{owner}/{target-repo}</td></tr></tbody></table></div></li><li><p>运行 github action。</p></li><li><p>相互唤醒，再次在目标 repo 的工作流程中执行上述步骤，并添加所需 Github Action step（此步骤已标注请回看）。</p></li></ol><h1 id=附>附</h1><p><a class=link href=https://docs.github.com/en/actions/learn-github-actions/workflow-syntax-for-github-actions target=_blank rel=noopener>github workflow 语法文档</a></p><p><a class=link href=https://crontab.guru/examples.html target=_blank rel=noopener>修改定时任务 —— Cron示例</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><span>最后更新于 2022-07-25</span></section></footer><div class=article-details><ul id=menu class="breadcrumb article-category" itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/><span itemprop=name>Home</span><meta itemprop=position content="1"></a></li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/categories/computer><span itemprop=name>computer</span></a><meta itemprop=position content="2"><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span style=display:none class=bold__text itemprop=name>freenom自动续期（存档）</span><meta itemprop=position content="3"></li></ul></div></article><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script>
<link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],locale:{admin:"Admin"},requiredMeta:["name","email","url"],serverURL:"https://myblog-rho-ebon.vercel.app/"})</script><footer class=site-footer><section class=copyright>&copy;
2021 -
2022 xiaoxian</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.12.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script type=text/javascript src=/ts/main.js defer></script>
<script>function adsenseDelay(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1748363845231571",e.setAttribute("crossorigin","anonymous"),t.appendChild(e)}function analyticsDelay(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://www.googletagmanager.com/gtag/js?id=UA-124746836-1",t.appendChild(e)}function gtag(){dataLayer.push(arguments)}setTimeout(adsenseDelay,1500),setTimeout(analyticsDelay,1500),window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-124746836-1")</script></body></html>