<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="git git命令 官网git备忘表比各种教程都易看 push脚本 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!/bin/bash echo -e &amp;#34;\033[0;32mDeploying updates to GitHub...\033[0m&amp;#34; # Add changes to git. git add . # Commit changes. msg=&amp;#34;rebuilding site `date`&amp;#34; if [ $# -eq 1"><title>常用命令</title><link rel=canonical href=https://www.jiangdaoli.cf/p/ubuntu/><link rel=stylesheet href=/scss/style.min.3ee41dfd00bdbd797b1b9f85c2df3d84d12d1134c7d2e436d6fe3c5e02ed7e19.css><meta property="og:title" content="常用命令"><meta property="og:description" content="git git命令 官网git备忘表比各种教程都易看 push脚本 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!/bin/bash echo -e &amp;#34;\033[0;32mDeploying updates to GitHub...\033[0m&amp;#34; # Add changes to git. git add . # Commit changes. msg=&amp;#34;rebuilding site `date`&amp;#34; if [ $# -eq 1"><meta property="og:url" content="https://www.jiangdaoli.cf/p/ubuntu/"><meta property="og:site_name" content="xiaoxian"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2021-07-22T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-25T00:00:00+00:00"><meta name=twitter:title content="常用命令"><meta name=twitter:description content="git git命令 官网git备忘表比各种教程都易看 push脚本 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!/bin/bash echo -e &amp;#34;\033[0;32mDeploying updates to GitHub...\033[0m&amp;#34; # Add changes to git. git add . # Commit changes. msg=&amp;#34;rebuilding site `date`&amp;#34; if [ $# -eq 1"><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#00aba9"><meta name=msapplication-TileImage content="/mstile-144x144.png"><meta name=theme-color content="#ffffff"><meta name=apple-mobile-web-app-title content="rmdhnreza.my.id - Blog Tutorial For Linux & Windows"><meta name=application-name content="rmdhnreza.my.id - Blog Tutorial For Linux & Windows"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","name":"常用命令","headline":"常用命令","description":"git git命令 官网git备忘表比各种教程都易看 push脚本 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!\/bin\/bash echo -e \u0026#34;\\033[0;32mDeploying updates to GitHub...\\033[0m\u0026#34; # Add changes to git. git add . # Commit changes. msg=\u0026#34;rebuilding site `date`\u0026#34; if [ $# -eq 1","inLanguage":"id-ID","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.jiangdaoli.cf\/p\/ubuntu\/"},"author":{"@type":"Person","name":"rmdhnreza","url":"https://github.com/rmdhnreza"},"creator":{"@type":"Person","name":"rmdhnreza"},"accountablePerson":{"@type":"Person","name":"rmdhnreza"},"copyrightHolder":"xiaoxian","copyrightYear":"2021","datePublished":"2021-07-22T00:00:00+00:00","dateModified":"2022-07-25T00:00:00+00:00","publisher":{"@type":"Organization","name":"xiaoxian","url":"https://www.jiangdaoli.cf","logo":{"@type":"ImageObject","url":"https:\/\/www.jiangdaoli.cf/favicon-96x96.png","width":"112","height":"112"}},"image":"https://www.jiangdaoli.cf","url":"https:\/\/www.jiangdaoli.cf\/p\/ubuntu\/","wordCount":"9574","tag":[],"keywords":[],"articleSection":["computer"]}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu45d9d6b92b0e2c7b760024d72fbde663_30609_300x0_resize_box_3.png width=300 height=263 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>xiaoxian</a></h1><h2 class=site-description>个人杂记</h2></div></header><ul class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home-2" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:2.5px"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><rect x="10" y="12" width="4" height="4"/></svg>首页</a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:2.5px"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>搜索</a></li><li><a href=/archives/><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill:currentColor"><title>GitBook icon</title><path d="M10.802 17.77a.703.703.0 11-.002 1.406.703.703.0 01.002-1.406m11.024-4.347a.703.703.0 11.001-1.406.703.703.0 01-.001 1.406m0-2.876a2.176 2.176.0 00-2.174 2.174c0 .233.039.465.115.691l-7.181 3.823a2.165 2.165.0 00-1.784-.937c-.829.0-1.584.475-1.95 1.216l-6.451-3.402c-.682-.358-1.192-1.48-1.138-2.502.028-.533.212-.947.493-1.107.178-.1.392-.092.62.027l.042.023c1.71.9 7.304 3.847 7.54 3.956.363.169.565.237 1.185-.057l11.564-6.014c.17-.064.368-.227.368-.474.0-.342-.354-.477-.355-.477-.658-.315-1.669-.788-2.655-1.25-2.108-.987-4.497-2.105-5.546-2.655-.906-.474-1.635-.074-1.765.006l-.252.125C7.78 6.048 1.46 9.178 1.1 9.397.457 9.789.058 10.57.006 11.539c-.08 1.537.703 3.14 1.824 3.727l6.822 3.518a2.175 2.175.0 002.15 1.862 2.177 2.177.0 002.173-2.14l7.514-4.073c.38.298.853.461 1.337.461A2.176 2.176.0 0024 12.72a2.176 2.176.0 00-2.174-2.174"/></svg>档案</a></li><li><a href=/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" fill="currentcolor" width="24" height="24" xmlns:v="https://vecta.io/nano"><path d="M12 5.9a2.1 2.1.0 110 4.2 2.1 2.1.0 110-4.2m0 9c2.97.0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4a4 4 0 100 8 4 4 0 100-8zm0 9c-2.67.0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"/></svg>关于</a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li><li class=menu-bottom-section></li></ul></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><ol id=menu class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/><span class=text itemprop=name>Home&nbsp;</span><meta itemprop=position content="1"></a><span class=text>/&nbsp;</span></li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/tags/computer><span class=text itemprop=name>computer</span></a>
<span class=text class=breadcrumbs-mobile>/&nbsp;</span><meta itemprop=position content="2"><meta itemprop=position content="2"><li class=breadcrumbs-mobile itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span class=text style=font-weight:700 itemprop=name>常用命令</span><meta itemprop=position content="3"></li></ol><h2 class="article-title center-text"><a href=/p/ubuntu/>常用命令</a></h2><div class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round" style="margin:0 5px"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time>2021-07-22</time></div></div></header><section class=article-content><h1 id=git>git</h1><h2 id=git命令>git命令</h2><p><a class=link href=https://training.github.com/downloads/zh_CN/github-git-cheat-sheet/ target=_blank rel=noopener>官网git备忘表</a>比各种教程都易看</p><h2 id=push脚本>push脚本</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>#!/bin/bash  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>echo -e &#34;\033[0;32mDeploying updates to GitHub...\033[0m&#34;  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Add changes to git.  
</span></span><span class=line><span class=cl>git add .  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Commit changes.  
</span></span><span class=line><span class=cl>msg=&#34;rebuilding site `date`&#34;  
</span></span><span class=line><span class=cl>if [ $# -eq 1 ]  
</span></span><span class=line><span class=cl>  then msg=&#34;$1&#34;  
</span></span><span class=line><span class=cl>fi  
</span></span><span class=line><span class=cl>git commit -m &#34;$msg&#34;  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Push source and build repos.  
</span></span><span class=line><span class=cl>git push origin master  
</span></span></code></pre></td></tr></table></div></div><h2 id=公开仓库fork为私有仓库>公开仓库fork为私有仓库</h2><ol><li>fork一个公开仓库</li><li>使用github<a class=link href=https://github.com/new/import target=_blank rel=noopener>导入功能</a>，写fork仓库的地址，并创建私有仓库</li><li>本地操作</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>git clone git@github.com:<span class=p>&lt;</span><span class=nt>your_username</span><span class=p>&gt;</span>/<span class=p>&lt;</span><span class=nt>your_repo</span><span class=p>&gt;</span>.git     #克隆到本地
</span></span><span class=line><span class=cl>git remote add upstream git@github.com:<span class=p>&lt;</span><span class=nt>original_owner</span><span class=p>&gt;</span>/<span class=p>&lt;</span><span class=nt>original_repo</span><span class=p>&gt;</span>.git      #添加上游(源)仓库用于更新 
</span></span><span class=line><span class=cl>git remote set-url --push upstream DISABLE   #禁用推送到上游(源)仓库
</span></span></code></pre></td></tr></table></div></div><ol start=4><li><code>git remote -v</code>可以看到：</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>origin	git@github.com:<span class=p>&lt;</span><span class=nt>your_username</span><span class=p>&gt;</span>/<span class=p>&lt;</span><span class=nt>your_repo</span><span class=p>&gt;</span>.git (fetch)
</span></span><span class=line><span class=cl>origin	git@github.com:<span class=p>&lt;</span><span class=nt>your_username</span><span class=p>&gt;</span>/<span class=p>&lt;</span><span class=nt>your_repo</span><span class=p>&gt;</span>.git (push)
</span></span><span class=line><span class=cl>upstream	git@github.com:<span class=p>&lt;</span><span class=nt>original_owner</span><span class=p>&gt;</span>/<span class=p>&lt;</span><span class=nt>original_repo</span><span class=p>&gt;</span>.git (fetch)
</span></span><span class=line><span class=cl>upstream	DISABLE (push)
</span></span></code></pre></td></tr></table></div></div><ol start=5><li>拉取更新</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>git fetch upstream
</span></span><span class=line><span class=cl>git merge upstream/master
</span></span></code></pre></td></tr></table></div></div><h1 id=linux>Linux</h1><h2 id=文件>文件</h2><p>i 键可以对文件进行修改， <code>Esc + :+ wq</code> 退出并保存修改之后的文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>sudo gedit  ~/File                 //编辑
</span></span><span class=line><span class=cl>touch File                         //新建文件
</span></span><span class=line><span class=cl>mkdir -p Folder/a/src              //新建文件夹
</span></span><span class=line><span class=cl>sudo rm -r Folder                  //删除文件夹
</span></span></code></pre></td></tr></table></div></div><h2 id=安装包>安装包</h2><ul><li>apt</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>sudo apt update <span class=err>&amp;&amp;</span> apt upgrade      //更新
</span></span><span class=line><span class=cl>dpkg --list                         //显示所有软件 
</span></span><span class=line><span class=cl>sudo apt-get install 包名           //安装 
</span></span><span class=line><span class=cl>sudo apt-get remove 包名            //卸载不删除配置文件
</span></span><span class=line><span class=cl>sudo apt-get --purge remove 包名    //软件及其配置文件一并删除
</span></span></code></pre></td></tr></table></div></div><ul><li>snap</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>sudo snap list                     //列出已经安装的snap包
</span></span><span class=line><span class=cl>sudo snap install <span class=p>&lt;</span><span class=nt>snap</span> <span class=na>name</span><span class=p>&gt;</span>      //安装一个snap包
</span></span><span class=line><span class=cl>sudo snap refresh <span class=p>&lt;</span><span class=nt>snap</span> <span class=na>name</span><span class=p>&gt;</span>      //更新一个snap包，如果后面不加包的名字更新所有的snap包
</span></span><span class=line><span class=cl>sudo snap remove <span class=p>&lt;</span><span class=nt>snap</span> <span class=na>name</span><span class=p>&gt;</span>       //删除一个snap包
</span></span></code></pre></td></tr></table></div></div><h2 id=端口>端口</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>sudo apt-get install lsof          //安装lsof
</span></span><span class=line><span class=cl>lsof -i:80                         //查看80端口
</span></span><span class=line><span class=cl>kill -9 pid                        //强制杀进程
</span></span></code></pre></td></tr></table></div></div><h2 id=命令>命令</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>local                       #用于声明局部变量
</span></span><span class=line><span class=cl>source
</span></span><span class=line><span class=cl>systemctl stop service      # 停止一个服务
</span></span><span class=line><span class=cl>systemctl daemon-reload     # 重载所有修改过的配置文件
</span></span><span class=line><span class=cl>systemctl enable            #将服务设置为每次开机启动
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>set -eux   #用于脚本开头设置
</span></span><span class=line><span class=cl>#-e 　若指令传回值不等于0，则立即退出shell。0表示没有错误
</span></span><span class=line><span class=cl>#-u 　当执行时使用到未定义过的变量，则显示错误信息。
</span></span><span class=line><span class=cl>#-x 　执行指令后，会先显示该指令及所下的参数。
</span></span></code></pre></td></tr></table></div></div><h3 id=grep-sedawk>grep 、sed、awk</h3><p><strong>grep 、sed、awk被称为linux中的"三剑客"。</strong></p><ul><li>grep 更适合单纯的查找或匹配文本</li><li>sed 更适合编辑匹配到的文本</li><li>awk 更适合格式化文本，对文本进行较复杂格式处理</li></ul><hr><p><code>sed</code>是<code>stream editor</code>的简称，也就是流编辑器。它一次处理一行内容，处理时，把当前处理的行存储在临时缓冲区中，称为<code>"pattern space"</code>，接着用<code>sed</code>命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。</p><ul><li>语法</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>sed [option] &#39;command&#39; fileName
</span></span></code></pre></td></tr></table></div></div><ul><li><p>选项</p><ul><li><p><code>-n</code> 使用安静<code>silent</code>模式。在一般<code>sed</code>的用法中，所有来自<code>stdin</code>的内容一般都会被列出到屏幕上。但如果加上<code>-n</code>参数后，则只有经过<code>sed</code>特殊处理的那一行(或者动作)才会被列出来</p></li><li><p><code>-e</code> 直接在指令列模式上进行 <code>sed</code> 的动作编辑</p></li><li><p><code>-f</code> 直接将 <code>sed</code> 的动作写在一个文件内，<code>-f filename</code>则可以执行<code>filename</code>内的<code>sed</code>命令</p></li><li><p><code>-r</code> 让<code>sed</code>命令支持扩展的正则表达式(默认是基础正则表达式)</p></li><li><p><code>-i</code> 直接修改读取的文件内容，而不是由屏幕输出</p></li></ul></li><li><p>命令</p><ul><li><p><code>a\</code>：追加行，<code>a\</code>的后面跟上字符串<code>s</code>(多行字符串可以用<code>\n</code>分隔)，则会在当前选择的行的后面都加上字符串<code>s</code></p></li><li><p><code>c\</code>：替换行，<code>c\</code>后面跟上字符串<code>s</code>(多行字符串可以用<code>\n</code>分隔)，则会将当前选中的行替换成字符串<code>s</code></p></li><li><p><code>i\</code>：插入行，<code>i\</code>后面跟上字符串<code>s</code>(多行字符串可以用<code>\n</code>分隔)，则会在当前选中的行的前面都插入字符串<code>s</code></p></li><li><p><code>d</code>：删除行<code>delete</code>，该命令会将当前选中的行删除</p></li><li><p><code>p</code>：打印<code>print</code>，该命令会打印当前选择的行到屏幕上</p></li><li><p><code>y</code>：替换字符，通常<code>y</code>命令的用法是这样的：<code>y/Source-chars/Dest-chars/</code>，分割字符<code>/</code>可以用任意单字符代替，用<code>Dest-chars</code>中对应位置的字符替换掉<code>Soutce-chars</code>中对应位置的字符</p></li><li><p><code>s</code>：替换字符串，通常<code>s</code>命令的用法是这样的：<code>1,$s/Regexp/Replacement/Flags</code>，分隔字符<code>/</code>可以用其他任意单字符代替，用<code>Replacement</code>替换掉匹配字符串</p></li></ul></li><li><p>替换选项</p><ul><li><p><code>\digit</code>：<code>Replacement</code>中可含有后向引用中的<code>\digit</code>(<code>digit</code>是<code>1</code>至<code>9</code>)，引用前面定义的子表达</p></li><li><p><code>&</code>：代表模版空间中的整个匹配部分</p></li><li><p><code>\L</code>：将在其后的替换部分转换成小写字母，直到发现一个<code>\U</code>或<code>\E</code>，<code>GNU</code>扩展功能</p></li><li><p><code>\l</code>：将下一个字符转换成小写字母，<code>GNU</code>扩展功能</p></li><li><p><code>\U</code>：将在其后的替换部分转换成大写字母，直到发现一个<code>\L</code>或<code>\E</code>，<code>GNU</code>扩展功能</p></li><li><p><code>\u</code>：将下一个字符转换成大写字母，<code>GNU</code>扩展功能</p></li><li><p><code>\E</code>：停止由<code>\L</code>或<code>\U</code>指示开始的大小写转换，<code>GNU</code>扩展功能</p></li></ul></li><li><p>标志选项</p><ul><li><p><code>g</code>：将用<code>Replacement</code>替换模版空间中所有匹配<code>Regexp</code>的部分，则不仅仅是第一个匹配部分</p></li><li><p><code>digit</code>：只用<code>Replacement</code>替换模版空间中第<code>digit</code>(<code>digit</code>是<code>1</code>至<code>9</code>)个匹配<code>Regexp</code>的部分</p></li><li><p><code>p</code>：若发生了替换操作，指示显示模版空间中新的数据</p></li><li><p><code>w file-name</code>：若发生了替换操作，指示将模版空间中新的数据写入指定的文件<code>file-name</code>中</p></li><li><p><code>i</code>：表示进行<code>Regexp</code>匹配时，是不区分大小写字母的</p></li></ul></li><li><p>示例</p><ul><li><code>a</code>命令</li></ul></li></ul><p><code>sed '1,$a\add one' test.txt</code> 从第一行到最后一行所有行后追加<code>"add one"</code>字符串行</p><p><code>sed '/first/a\add one' test.txt</code> 在匹配到<code>first</code>行追加<code>"add one"</code>字符串行</p><ul><li><code>i</code>命令</li></ul><p>与<code>a</code>命令类似，只不过在匹配的行前面插入字符串行，不举例了。</p><ul><li><code>c</code>命令</li></ul><p><code>sed '1,$c\add one' test.txt</code> 从第一行到最后一行所有行替换为<code>"add one"</code>字符串行</p><p><code>sed '/first/c\add one' test.txt</code> 将匹配到<code>first</code>行替换为<code>"add one"</code>字符串行</p><ul><li><code>d</code>命令</li></ul><p><code>sed '4,$d' test.txt</code> 从第四行到最后一行全部删除</p><ul><li><code>p</code>命令</li></ul><p><code>sed -n '/^first.*end$/p' test.txt</code> 以<code>first</code>开头<code>end</code>结尾的所有行全部打印</p><ul><li><code>s</code>命令</li></ul><p><code>sed 's/line/text/g' test.txt</code> 将所有行的<code>line</code>替换为<code>text</code>，<code>g</code>代表全局选项，没有<code>g</code>只替换所有行的第一个匹配项</p><p><code>sed '/^first.*end$/s/line/text/g' test.txt</code> 匹配以<code>first</code>开头<code>end</code>结尾的所有行，然后将<code>line</code>全部替换为<code>text</code></p><p><code>sed 's/\(.*\)line$/\1/g' test.txt</code> 本例中的<code>\(\)</code>中包裹的内容表示正则表达式的第<code>n</code>部分，<code>.*</code>表示任意字符串，所以此例相当于删除所有行末的<code>line</code></p><h1 id=脚本语言备忘录>脚本语言备忘录</h1><h2 id=shell>shell</h2><p><a class=link href=http://www.imooc.com/wiki/shelllesson/shellvariable.html target=_blank rel=noopener>原文地址</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>name=&#34;MyName&#34;                    //定义变量
</span></span><span class=line><span class=cl>echo $name 或 echo ${name}       //使用变量
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>val=`expr 2 + 2`    #expr 是一款表达式计算工具，使用它能完成表达式的求值操作。
</span></span><span class=line><span class=cl>echo &#34;Total value : $val&#34;
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>2&gt;<span class=err>&amp;</span>1       把&#34;标准错误输出&#34;重定向到&#34;标准输出&#34;
</span></span></code></pre></td></tr></table></div></div><div class=table-wrapper><table><thead><tr><th>特殊变量</th><th>含义</th></tr></thead><tbody><tr><td>$0</td><td>当前脚本的文件名</td></tr><tr><td>$n</td><td>传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是$1，第二个参数是$2</td></tr><tr><td>$#</td><td>传递给脚本或函数的参数个数总和</td></tr><tr><td>$*</td><td>传递给脚本或函数的所有参数，当被双引号 " " 包含时，所有的位置参数被看做一个字符串</td></tr><tr><td>$@</td><td>传递给脚本或函数的所有参数，当被双引号 " " 包含时，每个位置参数被看做独立的字符串</td></tr><tr><td>$?</td><td>上个命令的退出状态，或函数的返回值</td></tr><tr><td>$$</td><td>当前 Shell 进程 ID。对于 Shell 脚本，就是这些脚本所在的进程 ID。</td></tr></tbody></table></div><div class=table-wrapper><table><thead><tr><th>测试符</th><th>描述</th></tr></thead><tbody><tr><td>-eq，equal</td><td>等于</td></tr><tr><td>-ne，not equal</td><td>不等于</td></tr><tr><td>-gt，greater than</td><td>大于</td></tr><tr><td>-lt，lesser than</td><td>小于</td></tr><tr><td>-ge，greater or equal</td><td>大于或等于</td></tr><tr><td>-le，lesser or equal</td><td>小于或等于</td></tr><tr><td>-z</td><td>检测字符串长度是否为 0，为 0 返回 true。</td></tr><tr><td>-e</td><td>file 检测文件（包括目录）是否存在，如果是，则返回 true。</td></tr><tr><td>-f</td><td>file 检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td></tr></tbody></table></div><p>待续</p><h1 id=正则表达式>正则表达式</h1><div class=table-wrapper><table><thead><tr><th style=text-align:center>字符</th><th style=text-align:center>描述</th></tr></thead><tbody><tr><td style=text-align:center>\</td><td style=text-align:center>将下一个字符标记为一个特殊字符、或一个原义字符、或一个向后引用、或一个八进制转义符。例如，“<code>n</code>”匹配字符“<code>n</code>”。“<code>\n</code>”匹配一个换行符。串行“<code>\\</code>”匹配“<code>\</code>”而“<code>\(</code>”则匹配“<code>(</code>”。</td></tr><tr><td style=text-align:center>^</td><td style=text-align:center>匹配输入字符串的开始位置。如果设置了RegExp对象的Multiline属性，^也匹配“<code>\n</code>”或“<code>\r</code>”之后的位置。</td></tr><tr><td style=text-align:center>$</td><td style=text-align:center>匹配输入字符串的结束位置。如果设置了RegExp对象的Multiline属性，$也匹配“<code>\n</code>”或“<code>\r</code>”之前的位置。</td></tr><tr><td style=text-align:center>*</td><td style=text-align:center>匹配前面的子表达式零次或多次。例如，zo*能匹配“<code>z</code>”以及“<code>zoo</code>”。*等价于{0,}。</td></tr><tr><td style=text-align:center>+</td><td style=text-align:center>匹配前面的子表达式一次或多次。例如，“<code>zo+</code>”能匹配“<code>zo</code>”以及“<code>zoo</code>”，但不能匹配“<code>z</code>”。+等价于{1,}。</td></tr><tr><td style=text-align:center>?</td><td style=text-align:center>匹配前面的子表达式零次或一次。例如，“<code>do(es)?</code>”可以匹配“<code>does</code>”或“<code>does</code>”中的“<code>do</code>”。?等价于{0,1}。</td></tr><tr><td style=text-align:center>{<em>n</em>}</td><td style=text-align:center><em>n</em>是一个非负整数。匹配确定的<em>n</em>次。例如，“<code>o{2}</code>”不能匹配“<code>Bob</code>”中的“<code>o</code>”，但是能匹配“<code>food</code>”中的两个o。</td></tr><tr><td style=text-align:center>{<em>n</em>,}</td><td style=text-align:center><em>n</em>是一个非负整数。至少匹配<em>n</em>次。例如，“<code>o{2,}</code>”不能匹配“<code>Bob</code>”中的“<code>o</code>”，但能匹配“<code>foooood</code>”中的所有o。“<code>o{1,}</code>”等价于“<code>o+</code>”。“<code>o{0,}</code>”则等价于“<code>o*</code>”。</td></tr><tr><td style=text-align:center>{<em>n</em>,<em>m</em>}</td><td style=text-align:center><em>m</em>和<em>n</em>均为非负整数，其中<em>n</em>&lt;=<em>m</em>。最少匹配<em>n</em>次且最多匹配<em>m</em>次。例如，“<code>o{1,3}</code>”将匹配“<code>fooooood</code>”中的前三个o。“<code>o{0,1}</code>”等价于“<code>o?</code>”。请注意在逗号和两个数之间不能有空格。</td></tr><tr><td style=text-align:center>?</td><td style=text-align:center>当该字符紧跟在任何一个其他限制符（*,+,?，{<em>n</em>}，{<em>n</em>,}，{<em>n</em>,<em>m</em>}）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“<code>oooo</code>”，“<code>o+?</code>”将匹配单个“<code>o</code>”，而“<code>o+</code>”将匹配所有“<code>o</code>”。</td></tr><tr><td style=text-align:center>.</td><td style=text-align:center>匹配除“<code>\</code><em><code>n</code></em>”之外的任何单个字符。要匹配包括“<code>\</code><em><code>n</code></em>”在内的任何字符，请使用像“`(.</td></tr><tr><td style=text-align:center>(pattern)</td><td style=text-align:center>匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“<code>\(</code>”或“<code>\)</code>”。</td></tr><tr><td style=text-align:center>(?:pattern)</td><td style=text-align:center>匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用或字符“`(</td></tr><tr><td style=text-align:center>(?=pattern)</td><td style=text-align:center>正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“`Windows(?=95</td></tr><tr><td style=text-align:center>(?!pattern)</td><td style=text-align:center>正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“`Windows(?!95</td></tr><tr><td style=text-align:center>(?&lt;=pattern)</td><td style=text-align:center>反向肯定预查，与正向肯定预查类拟，只是方向相反。例如，“`(?&lt;=95</td></tr><tr><td style=text-align:center>(?&lt;!pattern)</td><td style=text-align:center>反向否定预查，与正向否定预查类拟，只是方向相反。例如“`(?&lt;!95</td></tr><tr><td style=text-align:center>x|y</td><td style=text-align:center>匹配x或y。例如，“`z</td></tr><tr><td style=text-align:center>[xyz]</td><td style=text-align:center>字符集合。匹配所包含的任意一个字符。例如，“<code>[abc]</code>”可以匹配“<code>plain</code>”中的“<code>a</code>”。</td></tr><tr><td style=text-align:center>[^xyz]</td><td style=text-align:center>负值字符集合。匹配未包含的任意字符。例如，“<code>[^abc]</code>”可以匹配“<code>plain</code>”中的“<code>p</code>”。</td></tr><tr><td style=text-align:center>[a-z]</td><td style=text-align:center>字符范围。匹配指定范围内的任意字符。例如，“<code>[a-z]</code>”可以匹配“<code>a</code>”到“<code>z</code>”范围内的任意小写字母字符。</td></tr><tr><td style=text-align:center>[^a-z]</td><td style=text-align:center>负值字符范围。匹配任何不在指定范围内的任意字符。例如，“<code>[^a-z]</code>”可以匹配任何不在“<code>a</code>”到“<code>z</code>”范围内的任意字符。</td></tr><tr><td style=text-align:center>\b</td><td style=text-align:center>匹配一个单词边界，也就是指单词和空格间的位置。例如，“<code>er\b</code>”可以匹配“<code>never</code>”中的“<code>er</code>”，但不能匹配“<code>verb</code>”中的“<code>er</code>”。</td></tr><tr><td style=text-align:center>\B</td><td style=text-align:center>匹配非单词边界。“<code>er\B</code>”能匹配“<code>verb</code>”中的“<code>er</code>”，但不能匹配“<code>never</code>”中的“<code>er</code>”。</td></tr><tr><td style=text-align:center>\cx</td><td style=text-align:center>匹配由x指明的控制字符。例如，\cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“<code>c</code>”字符。</td></tr><tr><td style=text-align:center>\d</td><td style=text-align:center>匹配一个数字字符。等价于[0-9]。</td></tr><tr><td style=text-align:center>\D</td><td style=text-align:center>匹配一个非数字字符。等价于[^0-9]。</td></tr><tr><td style=text-align:center>\f</td><td style=text-align:center>匹配一个换页符。等价于\x0c和\cL。</td></tr><tr><td style=text-align:center>\n</td><td style=text-align:center>匹配一个换行符。等价于\x0a和\cJ。</td></tr><tr><td style=text-align:center>\r</td><td style=text-align:center>匹配一个回车符。等价于\x0d和\cM。</td></tr><tr><td style=text-align:center>\s</td><td style=text-align:center>匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。</td></tr><tr><td style=text-align:center>\S</td><td style=text-align:center>匹配任何非空白字符。等价于[^ \f\n\r\t\v]。</td></tr><tr><td style=text-align:center>\t</td><td style=text-align:center>匹配一个制表符。等价于\x09和\cI。</td></tr><tr><td style=text-align:center>\v</td><td style=text-align:center>匹配一个垂直制表符。等价于\x0b和\cK。</td></tr><tr><td style=text-align:center>\w</td><td style=text-align:center>匹配包括下划线的任何单词字符。等价于“<code>[A-Za-z0-9_]</code>”。</td></tr><tr><td style=text-align:center>\W</td><td style=text-align:center>匹配任何非单词字符。等价于“<code>[^A-Za-z0-9_]</code>”。</td></tr><tr><td style=text-align:center>\x<em>n</em></td><td style=text-align:center>匹配<em>n</em>，其中<em>n</em>为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“<code>\x41</code>”匹配“<code>A</code>”。“<code>\x041</code>”则等价于“<code>\x04&1</code>”。正则表达式中可以使用ASCII编码。.</td></tr><tr><td style=text-align:center>*num*</td><td style=text-align:center>匹配<em>num</em>，其中<em>num</em>是一个正整数。对所获取的匹配的引用。例如，“<code>(.)\1</code>”匹配两个连续的相同字符。</td></tr><tr><td style=text-align:center>*n*</td><td style=text-align:center>标识一个八进制转义值或一个向后引用。如果*n<em>之前至少</em>n<em>个获取的子表达式，则</em>n<em>为向后引用。否则，如果</em>n<em>为八进制数字（0-7），则</em>n*为一个八进制转义值。</td></tr><tr><td style=text-align:center>*nm*</td><td style=text-align:center>标识一个八进制转义值或一个向后引用。如果*nm<em>之前至少有</em>nm<em>个获得子表达式，则</em>nm<em>为向后引用。如果*nm</em>之前至少有<em>n</em>个获取，则<em>n</em>为一个后跟文字<em>m</em>的向后引用。如果前面的条件都不满足，若<em>n</em>和<em>m</em>均为八进制数字（0-7），则*nm<em>将匹配八进制转义值</em>nm*。</td></tr><tr><td style=text-align:center>*nml*</td><td style=text-align:center>如果<em>n</em>为八进制数字（0-3），且<em>m和l</em>均为八进制数字（0-7），则匹配八进制转义值<em>nm</em>l。</td></tr><tr><td style=text-align:center>\u<em>n</em></td><td style=text-align:center>匹配<em>n</em>，其中<em>n</em>是一个用四个十六进制数字表示的Unicode字符。例如，\u00A9匹配版权符号（©）。</td></tr></tbody></table></div><h2 id=一校验数字的表达式>一、校验数字的表达式</h2><ol><li>数字：^[0-9]*$</li><li>n位的数字：^\d{n}$</li><li>至少n位的数字：^\d{n,}$</li><li>m-n位的数字：^\d{m,n}$</li><li>零和非零开头的数字：^(0|[1-9][0-9]*)$</li><li>非零开头的最多带两位小数的数字：^([1-9][0-9]*)+(.[0-9]{1,2})?$</li><li>带1-2位小数的正数或负数：^(-)?\d+(.\d{1,2})?$</li><li>正数、负数、和小数：^(-|+)?\d+(.\d+)?$</li><li>有两位小数的正实数：^[0-9]+(.[0-9]{2})?$</li><li>有1~3位小数的正实数：^[0-9]+(.[0-9]{1,3})?$</li><li>非零的正整数：^[1-9]\d*$ 或 ^([1-9][0-9]<em>){1,3}$ 或 ^+?[1-9][0-9]</em>$</li><li>非零的负整数：^-[1-9][]0-9″<em>$ 或 ^-[1-9]\d</em>$</li><li>非负整数：^\d+$ 或 ^[1-9]\d*|0$</li><li>非正整数：^-[1-9]\d*|0$ 或 ^((-\d+)|(0+))$</li><li>非负浮点数：^\d+(.\d+)?$ 或 ^[1-9]\d*.\d*|0.\d*[1-9]\d*|0?.0+|0$</li><li>非正浮点数：^((-\d+(.\d+)?)|(0+(.0+)?))$ 或 ^(-([1-9]\d*.\d*|0.\d*[1-9]\d*))|0?.0+|0$</li><li>正浮点数：^[1-9]\d*.\d*|0.\d*[1-9]\d*$ 或 ^(([0-9]+.[0-9]<em>[1-9][0-9]</em>)|([0-9]<em>[1-9][0-9]</em>.[0-9]+)|([0-9]<em>[1-9][0-9]</em>))$</li><li>负浮点数：^-([1-9]\d*.\d*|0.\d*[1-9]\d*)$ 或 ^(-(([0-9]+.[0-9]<em>[1-9][0-9]</em>)|([0-9]<em>[1-9][0-9]</em>.[0-9]+)|([0-9]<em>[1-9][0-9]</em>)))$</li><li>浮点数：^(-?\d+)(.\d+)?$ 或 ^-?([1-9]\d*.\d*|0.\d*[1-9]\d*|0?.0+|0)$</li></ol><h2 id=二校验字符的表达式>二、校验字符的表达式</h2><ol><li>汉字：^[\u4e00-\u9fa5]{0,}$</li><li>英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$</li><li>长度为3-20的所有字符：^.{3,20}$</li><li>由26个英文字母组成的字符串：^[A-Za-z]+$</li><li>由26个大写英文字母组成的字符串：^[A-Z]+$</li><li>由26个小写英文字母组成的字符串：^[a-z]+$</li><li>由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$</li><li>由数字、26个英文字母或者下划线组成的字符串：^\w+$ 或 ^\w{3,20}</li><li>中文、英文、数字包括下划线：^[\u4E00-\u9FA5A-Za-z0-9_]+$</li><li>中文、英文、数字但不包括下划线等符号：^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$</li><li>可以输入含有^%&’,;=?$\”等字符：[^%&’,;=?$\x22]+</li><li>禁止输入含有~的字符[^~\x22]+</li></ol><h3 id=其它>其它：</h3><p>.*匹配除 \n 以外的任何字符。</p><p>/[\u4E00-\u9FA5]/ 汉字</p><p>/[\uFF00-\uFFFF]/ 全角符号</p><p>/[\u0000-\u00FF]/ 半角符号</p><h2 id=三特殊需求表达式>三、特殊需求表达式</h2><ol><li>Email地址：^\w+([-+.]\w+)<em>@\w+([-.]\w+)</em>.\w+([-.]\w+)*$</li><li>域名：[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?</li><li>InternetURL：[a-zA-z]+://[^\s]* 或 ^http://([\w-]+.)+[\w-]+(/[\w-./?%&=]*)?$</li><li>手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$</li><li>电话号码(“XXX-XXXXXXX”、”XXXX-XXXXXXXX”、”XXX-XXXXXXX”、”XXX-XXXXXXXX”、”XXXXXXX”和”XXXXXXXX)：^((\d{3,4}-)|\d{3.4}-)?\d{7,8}$</li><li>国内电话号码(0511-4405222、021-87888822)：\d{3}-\d{8}|\d{4}-\d{7}</li><li>身份证号(15位、18位数字)：^\d{15}|\d{18}$</li><li>短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$</li><li>帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$</li><li>密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$</li><li>强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.<em>\d)(?=.</em>[a-z])(?=.*[A-Z]).{8,10}$</li><li>日期格式：^\d{4}-\d{1,2}-\d{1,2}</li><li>一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$</li><li>一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$</li></ol><h2 id=钱的输入格式>钱的输入格式：</h2><p>1.有四种钱的表示形式我们可以接受:”10000.00″ 和 “10,000.00”, 和没有 “分” 的 “10000” 和 “10,000”：^[1-9][0-9]*$</p><p>2.这表示任意一个不以0开头的数字,但是,这也意味着一个字符”0″不通过,所以我们采用下面的形式：^(0|[1-9][0-9]*)$</p><p>3.一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]*)$</p><p>4.这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$</p><p>5.必须说明的是,小数点后面至少应该有1位数,所以”10.”是不通过的,但是 “10” 和 “10.2” 是通过的：^[0-9]+(.[0-9]{2})?$</p><p>6.这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]{1,2})?$</p><p>7.这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$</p><p>8.1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$</p><blockquote><p>备注：这就是最终结果了,别忘了+可以用*替代,如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里</p></blockquote><ol><li>xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\.[x|X][m|M][l|L]$</li><li>中文字符的正则表达式：[\u4e00-\u9fa5]</li><li>双字节字符：[^\x00-\xff] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))</li><li>空白行的正则表达式：\n\s*\r (可以用来删除空白行)</li><li>HTML标记的正则表达式：&lt;(\S*?)[^>]<em>>.</em>?&lt;/\1>|&lt;.*? /> (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)</li><li>首尾空白字符的正则表达式：^\s*|\s*$或(^\s*)|(\s*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)</li><li>腾讯QQ号：[1-9][0-9]{4,} (腾讯QQ号从10000开始)</li><li>中国邮政编码：[1-9]\d{5}(?!\d) (中国邮政编码为6位数字)</li><li>IP地址：\d+.\d+.\d+.\d+ (提取IP地址时有用)</li><li>IP地址：((?:(?:25[0-5]|2[0-4]\d|[01]?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d?\d))</li><li>IP-v4地址：\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b (提取IP地址时有用)</li><li>校验IP-v6地址:(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))</li><li>子网掩码：((?:(?:25[0-5]|2[0-4]\d|[01]?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d?\d))</li><li>校验日期:^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$(“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。)</li><li>抽取注释：&lt;!–(.*?)–></li><li>查找CSS属性:^\s*[a-zA-Z\-]+\s*[:]{1}\s[a-zA-Z0-9\s.#]+[;]{1}</li><li>提取页面超链接:(&lt;a\s*(?!.<em>\brel=)[^>]</em>)(href=”https?:\/\/)((?!(?:(?:www\.)?’.implode(‘|(?:www\.)?’, $follow_list).’))[^” rel=”external nofollow” ]+)”((?!.<em>\brel=)[^>]</em>)(?:[^>]*)></li><li>提取网页图片:\&lt; <em>[img][^\\>]</em>[src] *= <em>[\”\’]{0,1}([^\”\’\ >]</em>)</li><li>提取网页颜色代码:^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$</li><li>文件扩展名效验:^([a-zA-Z]\:|\\)\\([^\\]+\\)<em>[^\/:</em>?”&lt;>|]+\.txt(l)?$</li><li>判断IE版本：^.*MSIE <a class=link href=?:%5c%5c.[0-9]+>5-8</a>?(?!.<em>Trident\/[5-9]\.0).</em>$</li></ol></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round" style="margin:0 5px"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><span>最后更新于 2022-07-25</span></section></footer><div class=article-details><ul id=menu class="breadcrumb article-category" itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/><span itemprop=name>Home</span><meta itemprop=position content="1"></a></li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/categories/computer><span itemprop=name>computer</span></a><meta itemprop=position content="2"><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span style=display:none class=bold__text itemprop=name>常用命令</span><meta itemprop=position content="3"></li></ul></div></article><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script>
<link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],locale:{admin:"Admin",placeholder:null},requiredMeta:["name","email","url"],serverURL:"https://myblog-rho-ebon.vercel.app/"})</script><footer class=site-footer><section class=copyright>&copy;
2021 -
2022 xiaoxian</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.12.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#git>git</a><ol><li><a href=#git命令>git命令</a></li><li><a href=#push脚本>push脚本</a></li><li><a href=#公开仓库fork为私有仓库>公开仓库fork为私有仓库</a></li></ol></li><li><a href=#linux>Linux</a><ol><li><a href=#文件>文件</a></li><li><a href=#安装包>安装包</a></li><li><a href=#端口>端口</a></li><li><a href=#命令>命令</a><ol><li><a href=#grep-sedawk>grep 、sed、awk</a></li></ol></li></ol></li><li><a href=#脚本语言备忘录>脚本语言备忘录</a><ol><li><a href=#shell>shell</a></li></ol></li><li><a href=#正则表达式>正则表达式</a><ol><li><a href=#一校验数字的表达式>一、校验数字的表达式</a></li><li><a href=#二校验字符的表达式>二、校验字符的表达式</a><ol><li><a href=#其它>其它：</a></li></ol></li><li><a href=#三特殊需求表达式>三、特殊需求表达式</a></li><li><a href=#钱的输入格式>钱的输入格式：</a></li></ol></li></ol></nav></div></section></aside></div><script type=text/javascript src=/ts/main.js defer></script>
<script>function adsenseDelay(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1748363845231571",e.setAttribute("crossorigin","anonymous"),t.appendChild(e)}function analyticsDelay(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://www.googletagmanager.com/gtag/js?id=UA-124746836-1",t.appendChild(e)}function gtag(){dataLayer.push(arguments)}setTimeout(adsenseDelay,1500),setTimeout(analyticsDelay,1500),window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-124746836-1")</script></body></html>